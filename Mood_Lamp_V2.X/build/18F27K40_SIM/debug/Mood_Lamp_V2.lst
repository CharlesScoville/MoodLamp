MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;******************************************************************************;
                      00002 ;                                                                                                       
                                                                               ;
                      00003 ;    Filename:         18F13K50.asm                                                                     
                                               ;
                      00004 ;    Date:             Sunday, April 29, 2012                                  ;
                      00005 ;    File Version:     v 1.0                                                   ;
                      00006 ;    Author:           Charles Scoville. AKA: Oblivion                         ;
                      00007 ;    Company:          Meh...                                                  ;
                      00008 ;        Font:                     Any monospaced font                                                  
                                               ;
                      00009 ;        Purpose:                  Mood lamp using tri-color LEDs. A LFSR based RNG is used.
                      00010 ;                                                                              ;
                      00011 ; Notes:
                      00012 ; For a 120Hz refresh rate the period is ~8.33ms.
                      00013 ; At 8M cycles per second for ~8.3ms is ~66k cycles
                      00014 ; 2^16 (65,536) cycles, as done by timer0, is damn close to this.
                      00015 ; 0x0000 -> 0xffff at FOSC/4 = 8.192ms  (122.07Hz)
                      00016 ;******************************************************************************;
                      00017 ;                                                                              ;
                      00018 ;   Files Required: P18F13K50.INC                                              ;
                      00019 ;                                                                              ;
                      00020 ;******************************************************************************;
                      00021 ; Part and project pinout.
                      00022 ;                              ____   ____
                      00023 ;                             | o  \_/    |
                      00024 ;         VDD - 5V power     [| 1       20|]    Vss - Ground
                      00025 ;                             |           |
                      00026 ;                            [| 2       19|]    ICSP-DAT
                      00027 ;                             |           |
                      00028 ;                            [| 3       18|]    ICSP-CLK
                      00029 ;                             |           |
                      00030 ;     VPP (MCLR internal)    [| 4       17|]    Vusb 3.3v reg (bypass with cap)
                      00031 ;                             |           |
                      00032 ;                      RC5 as R_4    [| 5       16|]    RC0 as R_1
                      00033 ;                             |           |
                      00034 ;                          RC4 as G_4    [| 6       15|]    RC1 as G_1
                      00035 ;                             |           |
                      00036 ;                          RC3 as B_4    [| 7       14|]    RC2 as B_1
                      00037 ;                             |           |
                      00038 ;                          RC6 as R_3    [| 8       13|]    RB4 as R_2
                      00039 ;                             |           |
                      00040 ;                          RC7 as G_3    [| 9       12|]    RB5 as G_2
                      00041 ;                             |           |
                      00042 ;              RB7 as B_3    [|10       11|]    RB6 as B_2
                      00043 ;                             |___________|
                      00044 ;
                      00045 ;
                      00046 ;_______________________________________________________________________________
                      00047 ; PROCESSOR DECLARATION
                      00048 ;_______________________________________________________________________________
                      00049 
                      00050         #IFDEF __18F13K50
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00051                 LIST      P=PIC18F13K50      ; list directive to define processor
                      00052                 #INCLUDE <P18F13K50.INC>     ; processor specific variable definitions
                      00053         #ENDIF
                      00054                 
                      00055         #IFDEF __18F27K40
                      00056                 LIST      P=PIC18F27K40      ; list directive to define processor
                      00057                 #INCLUDE <P18F27K40.INC>     ; processor specific variable definitions
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Nov 17 2016
                      00005 ;  MPASM PIC18F27K40 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2016 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      04540         LIST
                      00058         #ENDIF
                      00059         
                      00060         ;*TODO* Figure out how this works, and do it right.
                      00061         ;#IFNDEF        __18F13K50 || __18F27K40
                      00062         ;       MESSG   "Processor not in list"
                      00063         ;#ENDIF
                      00064 
                      00065 ;_______________________________________________________________________________
                      00066 ; Definitions and Declarations
                      00067 ;_______________________________________________________________________________
                      00068 ;;{
                      00069                                                                  ; V PIN numbers V
                      00070     #DEFINE     R_1             PWM_PINS+0,0 ; 16
                      00071     #DEFINE     G_1             PWM_PINS+0,1 ; 15
                      00072     #DEFINE     B_1             PWM_PINS+0,2 ; 14
                      00073 
                      00074     #DEFINE     R_2             PWM_PINS+1,4 ; 13
                      00075     #DEFINE     G_2             PWM_PINS+1,5 ; 12
                      00076     #DEFINE     B_2     PWM_PINS+1,6 ; 11
                      00077 
                      00078     #DEFINE     R_3     PWM_PINS+0,6 ; 8
                      00079     #DEFINE     G_3     PWM_PINS+0,7 ; 9
                      00080     #DEFINE     B_3     PWM_PINS+1,7 ; 10
                      00081 
                      00082     #DEFINE     R_4     PWM_PINS+0,5 ; 5
                      00083     #DEFINE     G_4     PWM_PINS+0,4 ; 6
                      00084     #DEFINE     B_4     PWM_PINS+0,3 ; 7
                      00085 
                      00086     #DEFINE TRUE        1
                      00087     #DEFINE FALSE       -1
                      00088     #DEFINE YES         1
                      00089     #DEFINE NO          0
                      00090     #DEFINE SUCCESS     1
                      00091     #DEFINE FAILURE     -1
                      00092 
                      00093     #DEFINE PWM_RLD     FLAGS,0
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00094 
                      00095     #DEFINE EERDWT      FLAGS,1
                      00096 
                      00097     #DEFINE RBS         FLAGS,2         ; *TODO* these aren't actually used             
                      00098     #DEFINE GBS         FLAGS,3         ; Ring buffer Selectors
                      00099     #DEFINE BBS         FLAGS,4         ; 
                      00100 ;;}
                      00101 ;_______________________________________________________________________________
                      00102 
                      00103 ;_______________________________________________________________________________
                      00104 ; CONFIGURATION WORD SETUP
                      00105 ;_______________________________________________________________________________
                      00106 ;;{
                      00107         #IFDEF __18F13K50
                      00108      CONFIG CPUDIV      = NOCLKDIV      ; CPU runs at full 48Mhz clock speed
                      00109          CONFIG USBDIV  = OFF           ; USB runs at full 48Mhz clock speed
                      00110          CONFIG FOSC    = IRC           ; High Speed Xtal in use, so high drive needed
                      00111          CONFIG PLLEN   = ON            ; 4x PLL is on. (12Mhz x 4 = 48Mhz)
                      00112      CONFIG PCLKEN      = ON            ; Primary clock is on, (not software control)
                      00113          CONFIG FCMEN   = OFF           ; Fail safe clock monitor is OFF
                      00114          CONFIG IESO    = OFF           ; Switching the clock is DISABLED
                      00115          CONFIG PWRTEN  = OFF           ; Powerup timer ON, CPU waits until power is stable
                      00116          CONFIG BOREN   = OFF           ; Brown out reset DISABLED
                      00117      CONFIG BORV        = 30            ; 3.0v; Highest Brown out voltage possible
                      00118          CONFIG WDTEN   = OFF           ; Watch dog timer DISABLED
                      00119          CONFIG WDTPS   = 1                     ; WDT post scaler, 1:1 (don't matter)
                      00120          CONFIG MCLRE   = OFF           ; Master clear/reset is internal. RA3 is GPIO
                      00121          CONFIG HFOFST  = OFF           ; System is held in reset untill clock is stable
                      00122      CONFIG STVREN      = OFF           ; Hardware stack over/under flow disabled
                      00123          CONFIG LVP     = OFF           ; Low voltage programming is OFF
                      00124          CONFIG BBSIZ   = OFF           ; Boot block size is 512 words. (don't matter)
                      00125          CONFIG XINST   = OFF           ; Extended C language instruction set is OFF
                      00126 
                      00127          CONFIG DEBUG   = OFF           ; Internal debugging hardware dissabled.
                      00128 
                      00129          CONFIG CP0     = OFF           ;
                      00130      CONFIG CP1         = OFF           ;
                      00131          CONFIG CPB     = OFF           ;
                      00132          CONFIG CPD     = OFF           ;
                      00133          CONFIG WRT0    = OFF           ;
                      00134          CONFIG WRTB    = OFF           ;  ALL FORMS OF CODE PROTECTION ARE OFF
                      00135      CONFIG WRTC        = OFF           ;
                      00136          CONFIG WRTD    = OFF           ;
                      00137          CONFIG EBTR0   = OFF           ;
                      00138          CONFIG EBTR1   = OFF           ;
                      00139          CONFIG EBTRB   = OFF           ;
                      00140          ENDIF
                      00141          
                      00142 #IFDEF __18F27K40
                      00143 ; CONFIG1L
                      00144   CONFIG  FEXTOSC = OFF         ; External Oscillator mode Selection bits (Oscillator not enabled)
                      00145   CONFIG  RSTOSC = HFINTOSC_64MHZ; Power-up default value for COSC bits (HFINTOSC with HFFRQ = 64 MHz an
                            d CDIV = 1:1)
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00146 
                      00147 ; CONFIG1H
                      00148   CONFIG  CLKOUTEN = OFF        ; Clock Out Enable bit (CLKOUT function is disabled)
                      00149   CONFIG  CSWEN = ON            ; Clock Switch Enable bit (Writing to NOSC and NDIV is allowed)
                      00150   CONFIG  FCMEN = ON            ; Fail-Safe Clock Monitor Enable bit (Fail-Safe Clock Monitor enabled)
                      00151 
                      00152 ; CONFIG2L
                      00153   CONFIG  MCLRE = INTMCLR       ; Master Clear Enable bit (If LVP = 0, MCLR pin function is port defined
                             function; If LVP =1, RE3 pin fuction is MCLR)
                      00154   CONFIG  PWRTE = OFF           ; Power-up Timer Enable bit (Power up timer disabled)
                      00155   CONFIG  LPBOREN = OFF         ; Low-power BOR enable bit (ULPBOR disabled)
                      00156   CONFIG  BOREN = SBORDIS       ; Brown-out Reset Enable bits (Brown-out Reset enabled , SBOREN bit is i
                            gnored)
                      00157 
                      00158 ; CONFIG2H
                      00159   CONFIG  BORV = VBOR_2P45      ; Brown Out Reset Voltage selection bits (Brown-out Reset Voltage (VBOR)
                             set to 2.45V)
                      00160   CONFIG  ZCD = OFF             ; ZCD Disable bit (ZCD disabled. ZCD can be enabled by setting the ZCDSE
                            N bit of ZCDCON)
                      00161   CONFIG  PPS1WAY = ON          ; PPSLOCK bit One-Way Set Enable bit (PPSLOCK bit can be cleared and set
                             only once; PPS registers remain locked after one clear/set cycle)
                      00162   CONFIG  STVREN = ON           ; Stack Full/Underflow Reset Enable bit (Stack full/underflow will cause
                             Reset)
                      00163   CONFIG  DEBUG = OFF           ; Debugger Enable bit (Background debugger disabled)
                      00164   CONFIG  XINST = OFF           ; Extended Instruction Set Enable bit (Extended Instruction Set and Inde
                            xed Addressing Mode disabled)
                      00165 
                      00166 ; CONFIG3L
                      00167   CONFIG  WDTCPS = WDTCPS_31    ; WDT Period Select bits (Divider ratio 1:65536; software control of WDT
                            PS)
                      00168   CONFIG  WDTE = OFF            ; WDT operating mode (WDT Disabled)
                      00169 
                      00170 ; CONFIG3H
                      00171   CONFIG  WDTCWS = WDTCWS_7     ; WDT Window Select bits (window always open (100%); software control; k
                            eyed access not required)
                      00172   CONFIG  WDTCCS = SC           ; WDT input clock selector (Software Control)
                      00173 
                      00174 ; CONFIG4L
                      00175   CONFIG  WRT0 = OFF            ; Write Protection Block 0 (Block 0 (000800-003FFFh) not write-protected
                            )
                      00176   CONFIG  WRT1 = OFF            ; Write Protection Block 1 (Block 1 (004000-007FFFh) not write-protected
                            )
                      00177   CONFIG  WRT2 = OFF            ; Write Protection Block 2 (Block 2 (008000-00BFFFh) not write-protected
                            )
                      00178   CONFIG  WRT3 = OFF            ; Write Protection Block 3 (Block 3 (00C000-00FFFFh) not write-protected
                            )
                      00179   CONFIG  WRT4 = OFF            ; Write Protection Block 4 (Block 4 (010000-013FFFh) not write-protected
                            )
                      00180   CONFIG  WRT5 = OFF            ; Write Protection Block 5 (Block 5 (014000-017FFFh) not write-protected
                            )
                      00181   CONFIG  WRT6 = OFF            ; Write Protection Block 6 (Block 6 (018000-01BFFFh) not write-protected
                            )
                      00182   CONFIG  WRT7 = OFF            ; Write Protection Block 7 (Block 7 (01C000-01FFFFh) not write-protected
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            )
                      00183 
                      00184 ; CONFIG4H
                      00185   CONFIG  WRTC = OFF            ; Configuration Register Write Protection bit (Configuration registers (
                            300000-30000Bh) not write-protected)
                      00186   CONFIG  WRTB = OFF            ; Boot Block Write Protection bit (Boot Block (000000-0007FFh) not write
                            -protected)
                      00187   CONFIG  WRTD = OFF            ; Data EEPROM Write Protection bit (Data EEPROM not write-protected)
                      00188   CONFIG  SCANE = ON            ; Scanner Enable bit (Scanner module is available for use, SCANMD bit ca
                            n control the module)
                      00189   CONFIG  LVP = ON              ; Low Voltage Programming Enable bit (Low voltage programming enabled. M
                            CLR/VPP pin function is MCLR. MCLRE configuration bit is ignored)
                      00190 
                      00191 ; CONFIG5L
                      00192   CONFIG  CP = OFF              ; UserNVM Program Memory Code Protection bit (UserNVM code protection di
                            sabled)
                      00193   CONFIG  CPD = OFF             ; DataNVM Memory Code Protection bit (DataNVM code protection disabled)
                      00194 
                      00195 ; CONFIG5H
                      00196 
                      00197 ; CONFIG6L
                      00198   CONFIG  EBTR0 = OFF           ; Table Read Protection Block 0 (Block 0 (000800-003FFFh) not protected 
                            from table reads executed in other blocks)
                      00199   CONFIG  EBTR1 = OFF           ; Table Read Protection Block 1 (Block 1 (004000-007FFFh) not protected 
                            from table reads executed in other blocks)
                      00200   CONFIG  EBTR2 = OFF           ; Table Read Protection Block 2 (Block 2 (008000-00BFFFh) not protected 
                            from table reads executed in other blocks)
                      00201   CONFIG  EBTR3 = OFF           ; Table Read Protection Block 3 (Block 3 (00C000-00FFFFh) not protected 
                            from table reads executed in other blocks)
                      00202   CONFIG  EBTR4 = OFF           ; Table Read Protection Block 4 (Block 4 (010000-013FFFh) not protected 
                            from table reads executed in other blocks)
                      00203   CONFIG  EBTR5 = OFF           ; Table Read Protection Block 5 (Block 5 (014000-017FFFh) not protected 
                            from table reads executed in other blocks)
                      00204   CONFIG  EBTR6 = OFF           ; Table Read Protection Block 6 (Block 6 (018000-01BFFFh) not protected 
                            from table reads executed in other blocks)
                      00205   CONFIG  EBTR7 = OFF           ; Table Read Protection Block 7 (Block 7 (01C000-01FFFFh) not protected 
                            from table reads executed in other blocks)
                      00206 
                      00207 ; CONFIG6H
                      00208   CONFIG  EBTRB = OFF           ; Boot Block Table Read Protection bit (Boot Block (000000-0007FFh) not 
                            protected from table reads executed in other blocks)
                      00209  ENDIF
                      00210 ;;}
                      00211 ;_______________________________________________________________________________
                      00212 
                      00213 ;_______________________________________________________________________________
                      00214 ; Variables
                      00215 ;_______________________________________________________________________________
                      00216 ;;{
                      00217 GPR_VAR        UDATA
                      00218 ;INT_VAR        UDATA_ACS
                      00219 
                      00220 ; ISR shadow for important registers 
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000000                00221 W_TEMP          RES     1
000001                00222 STATUS_TEMP     RES     1
000002                00223 BSR_TEMP        RES     1
                      00224 
000003                00225 FLAGS   RES     1 ; Flags, for Yes/No things
                      00226 
                      00227 ; 8 bit PWM timers/Counters
000004                00228 R1_TIME RES     1
000005                00229 G1_TIME RES     1
000006                00230 B1_TIME RES     1
                      00231 
000007                00232 R2_TIME RES     1
000008                00233 G2_TIME RES     1
000009                00234 B2_TIME RES     1
                      00235 
00000A                00236 R3_TIME RES     1
00000B                00237 G3_TIME RES     1
00000C                00238 B3_TIME RES     1
                      00239 
00000D                00240 R4_TIME RES     1
00000E                00241 G4_TIME RES     1
00000F                00242 B4_TIME RES     1
                      00243 
000010                00244 DUMMY_TIME      RES     1; DUMMY_TIME is always 255, and sets the pace
                      00245 
000011                00246 PWM_PINS        RES 2   ; This is the pin mask, used to change all pins at once.
                      00247 
                      00248 ; LFSR registars for PRNG
000013                00249 LFSR_01 RES     1
000014                00250 LFSR_02 RES     1
000015                00251 LFSR_03 RES     1
000016                00252 LFSR_04 RES     1
000017                00253 LFSR_05 RES     1
000018                00254 RAND    RES     1 ; Final 8 bit Random number
                      00255 
                      00256 ; EEPROM engine arguments
                      00257 ;WREG           ; Ram target address
                      00258 ;(bit)EERDWT; *TODO* Read/Write operation
000019                00259 EE_ADDRESS      RES     1 ; EEPROM target address
00001A                00260 EE_LENGTH       RES     1 ; Length of EEPROM data
                      00261 
                      00262 ; 24 bit Intermediate Hermite Products
00001B                00263 C0XP0   RES 3
00001E                00264 C1XP1   RES     3
000021                00265 C2XP2   RES     3
000024                00266 C3XP3   RES     3
                      00267 
                      00268 ; Temp storage for 16 bit Hermite coefficients, table look up
000027                00269 C0 RES  2
000029                00270 C1 RES  2
00002B                00271 C2 RES  2
00002D                00272 C3 RES  2
                      00273 
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00274 ; Spline starting points. Filled with Random data, see "Fill_Buffer" sub
00002F                00275 P0      RES     1
000030                00276 P1      RES     1
000031                00277 P2      RES     1
000032                00278 P3      RES     1
                      00279 
000033                00280 R_P0    RES     1
000034                00281 R_P1    RES     1
000035                00282 R_P2    RES     1
000036                00283 R_P3    RES     1
                      00284 
000037                00285 G_P0    RES     1
000038                00286 G_P1    RES     1
000039                00287 G_P2    RES     1
00003A                00288 G_P3    RES     1
                      00289 
00003B                00290 B_P0    RES     1
00003C                00291 B_P1    RES     1
00003D                00292 B_P2    RES     1
00003E                00293 B_P3    RES     1
                      00294 
                      00295 ; Ring buffer variables
00003F                00296 _CHAR           RES     1
000040                00297 _COEF_POINT     RES     1
000041                00298 _COUNT          RES     1
000042                00299 _OUT_POINT      RES     1
000043                00300 _RINGBUFF_P     RES     1
                      00301 
000044                00302 PWM_COUNT               RES     1; Number of B ring buffer bytes used 
000045                00303 PWM_IN_POINT    RES     1; Pointing to input address of ring buffer, the "head"
000046                00304 PWM_OUT_POINT   RES     1; Pointing to output address of ring buffer, the "tail"
000047                00305 PWM_RINGBUFF    RES .24 ; Actual ring buffer, 24 bytes long.
                      00306 
00005F                00307 R_COEF_POINT    RES     1
000060                00308 R_COUNT                 RES     1 ; Number of R ring buffer bytes used
000061                00309 R_IN_POINT              RES     1 ; Pointing to input address of ring buffer, the "head"
000062                00310 R_OUT_POINT             RES     1 ; Pointing to output address of ring buffer, the "tail"
000063                00311 R_RINGBUFF              RES     .16     ; Actual ring buffer, 16 bytes long.
                      00312 
000073                00313 G_COEF_POINT    RES     1
000074                00314 G_COUNT                 RES     1; Number of G ring buffer bytes used
000075                00315 G_IN_POINT              RES     1; Pointing to input address of ring buffer, the "head"
000076                00316 G_OUT_POINT             RES     1; Pointing to output address of ring buffer, the "tail"
000077                00317 G_RINGBUFF              RES     .16     ; Actual ring buffer, 16 bytes long.
                      00318 
000087                00319 B_COEF_POINT    RES     1
000088                00320 B_COUNT                 RES     1; Number of B ring buffer bytes used 
000089                00321 B_IN_POINT              RES     1; Pointing to input address of ring buffer, the "head"
00008A                00322 B_OUT_POINT             RES     1; Pointing to output address of ring buffer, the "tail"
00008B                00323 B_RINGBUFF              RES     .16     ; Actual ring buffer, 16 bytes long.
                      00324 ;ENDC
                      00325 ;;}
                      00326 ;_______________________________________________________________________________
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00327 
                      00328 ;_______________________________________________________________________________
                      00329 ; EEPROM PRE-INITIALIZATION
                      00330 ; The 18F13K50 has non-volatile memory (EEPROM) starting at 0xF00000
                      00331 ;_______________________________________________________________________________
                      00332 ;;{
                      00333 #IFDEF  __18F13K50
                      00334 DATAEE          ORG 0XF00000 ; Starting address for EEPROM for 18F13K50
                      00335 #ENDIF
                      00336                 
                      00337 #IFDEF  __18F27K40
                      00338 DATAEE          ORG     0X310000
                      00339 #ENDIF
                      00340 
                      00341         ; Place seed for RNG in EEPROM
310000 ECCB A9A3 DAD9 00342     DE          "Ëì£©ÙÚ"  ; 6 bytes
                      00343 
                      00344 ; List of other seeds you could choose from. (generated with KeePass 2.34)
                      00345 ;
                      00346 ; "¸J/ªàr" ";û3Îú5" "Ëì£©ÙÚ" "Fgõá2¨" "¤¢Áo#s" "/8ê.F<" "Ïãñ{r®",
                      00347 ; "Eúý°%?" "&ÍFUØe" "Á¨~·¬¡" "ø]q<õn" "ÉADÁqà" "MÃÚ2ÚP" "y$Ô/wu",
                      00348 ; "e½ß°~ã" "Qoõo:}" ">ºÎó¬$" "Tô¦MJÐ" "~V-þ&Î" "²~VÔ%ð" "2ªüCò[",
                      00349 ; "Ô§4Æx¦" ")ÐBÈþú" "Ö ý~¥!" "ÄËDáËþ" "Ø_ÞD,÷" "ï¨ðXKj" "ëv+.®.",
                      00350 ;;}
                      00351 ;_______________________________________________________________________________
                      00352 
                      00353 ;_______________________________________________________________________________
                      00354 ; RESET VECTOR
                      00355 ;_______________________________________________________________________________
                      00356         CODE
                      00357 RES_VECT        ORG     0X0000            ; processor reset vector
000000 EF?? F???      00358     GOTO    START             ; go to beginning of program
                      00359 
                      00360 ;_______________________________________________________________________________
                      00361 ; INTERRUPT VECTORS
                      00362 ;_______________________________________________________________________________
                      00363 ;;{
                      00364 ISRH            ORG     0X0008
                      00365 
                      00366     ; Run the low Priority Interrupt Service Routine
000008 EF?? F???      00367     GOTO    LOW_ISR
                      00368 ;*******************************************************************************
                      00369 ; Note: When priority interrupt is disabled, all int-vectors remap to 0x0008.
                      00370 ;*******************************************************************************
                      00371 ISRL            ORG     0X0018
                      00372 
                      00373     ; Run the low Priority Interrupt Service Routine
000018 EF?? F???      00374     GOTO    LOW_ISR 
                      00375 ;;}
                      00376 ;_______________________________________________________________________________
                      00377 
                      00378 ;_______________________________________________________________________________
                      00379 ; INTERRUPT SERVICE ROUTINES
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00380 ;_______________________________________________________________________________
                      00381 ;;{
00001C                00382 LOW_ISR
                      00383                 ; Context Saving for Low ISR
00001C 6E??           00384     MOVWF   W_TEMP              ; save W register
00001E CFD8 F???      00385     MOVFF   STATUS, STATUS_TEMP ; save status register
000022 CFE0 F???      00386     MOVFF   BSR, BSR_TEMP       ; save bankselect register
                      00387 
000026 AAF2           00388     BTFSS       INTCON,TMR0IF           ; Test to see if Timer0 is what caused
000028 D???           00389     BRA         END_INT                         ; this interupt. If so handle it.
                      00390 
                      00391 ;-------------------------------------------------------------------------------
                      00392 ; Timer0 interrupt service
                      00393 ;
                      00394 ; The only thing that should be done here is loading the new delay and changing 
                      00395 ; pins
                      00396 ;
                      00397 ; *TODO* these full reads are probably actually excessive. Yet another buffer
                      00398 ; for each of these would probably be better performing. Then it could just be 
                      00399 ; 3 MOVFF's
                      00400 
00002A D???           00401     RCALL       READ_BUFFER_PWM         ; First byte in buffer is delay
00002C 6ED4           00402     MOVWF       TMR0H                           ; until next change in output.
                      00403 
00002E D???           00404     RCALL       READ_BUFFER_PWM         ; Next two bytes are the pin masks
000030 1685           00405     ANDWF       LATC                            ; 
000032 D???           00406     RCALL       READ_BUFFER_PWM         ; Note that this is ANDed, so preserves
000034 1684           00407     ANDWF       LATB                            ; the state of bits not 0 in the mask.
                      00408 
000036 6AD3           00409     CLRF        TMR0L           ; <--- This is the exact point Timer0 gets updated
                      00410 ;-------------------------------------------------------------------------------
                      00411 
000038 9AF2           00412     BCF         INTCON, TMR0IF          ; Reset Timer0 interupt flag
                      00413 
00003A                00414 END_INT    ; Context Saving for Low ISR
00003A C??? FFE0      00415     MOVFF   BSR_TEMP, BSR       ; restore bankselect register
00003E 50??           00416     MOVF    W_TEMP, W           ; restore W register
000040 C??? FFD8      00417     MOVFF   STATUS_TEMP, STATUS ; restore status register
000044 0010           00418     RETFIE ;
                      00419 ;;}
                      00420 ;_______________________________________________________________________________
                      00421 
                      00422 ;_______________________________________________________________________________
                      00423 ; INITIALIZE SYSTEM
                      00424 ;_______________________________________________________________________________
                      00425 ;;{
                      00426 ;*******************************************************************************
                      00427 ; First some general setup to make all the pins behave as they are supposed to.
                      00428 ;*******************************************************************************
000046                00429 START           
                      00430         ; Initialize GPRs _________________________________________
000046 EE00 F000      00431     LFSR    FSR0, 000H   ; 
00004A 6AEE           00432     CLRF    POSTINC0     ; Clear INDF register then inc pointer
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00004C A0EA           00433     BTFSS   FSR0H, 0     ; All done with Bank1?
00004E D???           00434     BRA     $ - .4        ; NO, clear next | YES, continue
                      00435 
000050 B2EA           00436         BTFSC   FSR0H, 1         ; Done bank 2 yet?
000052 D???           00437         BRA             $ + .8           ; 
000054 82EA           00438         BSF             FSR0H, 1         ; Move on to bank 3
000056 90EA           00439         BCF             FSR0H, 0
000058 D???           00440         BRA             $ - .14          ;
                      00441         ;__________________________________________________________
                      00442         
                      00443         ; Initialize Ring buffers _________________________________
00005A 0E??           00444     MOVLW       R_RINGBUFF       ; Initilize the ring buffer
00005C 6E??           00445     MOVWF       R_IN_POINT       ; to known good state.
00005E 6E??           00446     MOVWF       R_OUT_POINT      ; (sort of... it still could have data)
                      00447 
000060 0E??           00448     MOVLW       G_RINGBUFF       ; Initilize the ring buffer
000062 6E??           00449     MOVWF       G_IN_POINT       ; to known good state.
000064 6E??           00450     MOVWF       G_OUT_POINT      ; (sort of... it still could have data)
                      00451 
000066 0E??           00452     MOVLW       B_RINGBUFF       ; Initilize the ring buffer
000068 6E??           00453     MOVWF       B_IN_POINT       ; to known good state.
00006A 6E??           00454     MOVWF       B_OUT_POINT      ; (sort of... it still could have data) 
                      00455 
00006C 0E??           00456     MOVLW       PWM_RINGBUFF ; Initilize the ring buffer
00006E 6E??           00457     MOVWF       PWM_IN_POINT ; to known good state.
000070 6E??           00458     MOVWF       PWM_OUT_POINT; (sort of... it still could have data)
                      00459         ;__________________________________________________________
                      00460 
                      00461         ; Initialize PRNG ________________________________________
                      00462         ;CLRF   EE_ADDRESS       ; Load the first EE address (0x00).
                      00463         
000072 0E06           00464     MOVLW       .6                       ; We're getting 6 bytes
000074 6E??           00465     MOVWF       EE_LENGTH        ; 
                      00466 
000076 0E??           00467     MOVLW       LFSR_01          ; The target RAM is the LFSR
000078 EC?? F???      00468     CALL        EE_READ      ; 
                      00469         ;__________________________________________________________
                      00470 
00007C 68??           00471     SETF        DUMMY_TIME       ; Set PWM loop to known state, make sure
00007E 80??           00472     BSF         PWM_RLD          ; it knows the data is invalid though
                      00473 
000080 D???           00474         RCALL   FILL_BUFFER ; Generate some random points
                      00475 
                      00476 ;-------------------------------------------------------------------------------
                      00477 ; Processor specific setup. If you're porting to a different PIC, or changing 
                      00478 ; the circuit, stuff below here needs to reflect this.
                      00479 ;-------------------------------------------------------------------------------
                      00480 #IFDEF __18F13K50
                      00481         CLRF    TMR0L
                      00482     CLRF        TMR0H
                      00483 
                      00484 ; *TODO* Prescaler is a convient way to control rate of change for colors.
                      00485     MOVLW       B'10001000'
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00486 ;                         ||||||||__                                    
                      00487 ;                         |||||||___\ __ T0PS0:2                Prescaler.
                      00488 ;                         ||||||____/ 
                      00489 ;                         |||||_________ PSA                    1 = Timer0 Prescaler bypassed
                      00490 ;                         ||||
                      00491 ;                         ||||__________ T0SE                   Edge select. 0 = L2H
                      00492 ;                         |||
                      00493 ;                         |||___________ T0CS                   0 = Internal clock
                      00494 ;                         ||
                      00495 ;                         ||____________ T0 8BIT/16bit  0 = 16bit mode
                      00496 ;                         |
                      00497 ;                         |_____________ TMR0ON                 1 = ON, 0 = OFF
                      00498     MOVWF       T0CON
                      00499 
                      00500     BSF         INTCON, PEIE   ; Enable peripheral interupt
                      00501 
                      00502     BSF         INTCON, TMR0IE ; Enable Timer0 interupt
                      00503 
                      00504     BCF         ADCON0, ADON   ; Turn off the ADC when not in use.
                      00505 
                      00506     MOVLW       B'00000000'        ; Some port pins are multiplexed with analog  
                      00507     MOVWF       ANSEL              ; functions. Clearing an ANSELx bit enables
                      00508     MOVLW       B'00000000'        ; digital functionality.
                      00509     MOVWF       ANSELH             ; *** DON'T CLEAR IF ANALOG SIGNAL IS PRESENT ***
                      00510 
                      00511     CLRF        TRISC              ; Make PORTC all outputs
                      00512 
                      00513     MOVLW       B'00001111'        ; Make most the significant
                      00514     ANDWF       TRISB              ; nyble of PORTB outputs.
                      00515 
                      00516     BSF         INTCON, GIE        ; Enable global interupts last
                      00517 #ENDIF
                      00518         
                      00519 #IFDEF __18F27K40
000082 6AD3           00520         CLRF    TMR0L
000084 6AD4           00521     CLRF        TMR0H
                      00522         
000086 0E50           00523     MOVLW       B'01010000'
                      00524 ;                         ||||||||__                                    
                      00525 ;                         |||||||___\ 
                      00526 ;                         ||||||____ > __ Prescaler Rate Select bit
                      00527 ;                         |||||_____/
                      00528 ;                         ||||
                      00529 ;                         ||||___________ TMR0 Input Asynchronization Enable bit
                      00530 ;                         |||
                      00531 ;                         |||__________ 
                      00532 ;                         ||___________\_ Timer0 Clock Source Select bits
                      00533 ;                         |____________/
000088 6ED6           00534         MOVWF   T0CON1
                      00535         
00008A 0E90           00536     MOVLW       B'10010000'
                      00537 ;                         ||||||||__                                    
                      00538 ;                         |||||||___\ 
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00539 ;                         ||||||____ > __ TMR0 Output Postscaler (Divider).
                      00540 ;                         |||||_____/
                      00541 ;                         ||||
                      00542 ;                         ||||___________ 1 = TMR0 is a 16-bit timer
                      00543 ;                         |||
                      00544 ;                         |||____________ TMR0 Output bit (read-only)
                      00545 ;                         ||
                      00546 ;                         ||_____________ Unimplemented
                      00547 ;                         |
                      00548 ;                         |______________ TMR0 Enable bit
00008C 6ED5           00549         MOVWF   T0CON0
                      00550         
00008E 8CF2           00551         BSF             INTCON, PEIE    ; Enable peripheral interupt
                      00552 
000090 8AF2           00553     BSF         INTCON, TMR0IE  ; Enable Timer0 interupt
                      00554 
000092 9E60           00555     BCF         ADCON0, ADON    ; Turn off the ADC when not in use.
                      00556         
                      00557         ; Setup pins
000094 0E18           00558         MOVLW   B'00011000'             ; 11, 12, 13 and 16, 17, 18 DIO
000096 1721           00559         ANDWF   ANSELC                  ; 
000098 0E8F           00560     MOVLW       B'10001111'             ; 25, 26, and 27 DIO
00009A 1719           00561     ANDWF       ANSELB                  ; 
00009C 0E1F           00562         MOVLW   B'00011111'             ; 2, 3, and 4 DIO
00009E 1711           00563         ANDWF   ANSELA                  ;
                      00564         
0000A0 0E18           00565         MOVLW   B'00011000'             ; 11, 12, 13 and 16, 17, 18 outputs
0000A2 168A           00566         ANDWF   TRISC                   ; 
0000A4 0E8F           00567     MOVLW       B'10001111'             ; 25, 26, and 27 output
0000A6 1689           00568     ANDWF       TRISB                   ; 
0000A8 0E1F           00569         MOVLW   B'00011111'             ; 2, 3, and 4 output
0000AA 1688           00570         ANDWF   TRISA                   ; 
                      00571 
0000AC 6B20           00572         CLRF    WPUC                    ;
0000AE 6B18           00573         CLRF    WPUB                    ; Dissable weak pullups
0000B0 6B10           00574         CLRF    WPUA                    ;
                      00575         
0000B2 6B1E           00576         CLRF    SLRCONC                 ;
0000B4 6B16           00577         CLRF    SLRCONB                 ; No slewrate control
0000B6 6B0E           00578         CLRF    SLRCONA                 ;
                      00579         
0000B8 6B1F           00580         CLRF    ODCONC                  ;
0000BA 6B17           00581         CLRF    ODCONB                  ; Push/pull outputs
0000BC 6B0F           00582         CLRF    ODCONA                  ;
                      00583         
                      00584         ;CLRF   INLVLC                  ;
                      00585         ;CLRF   INLVLB                  ; Input buffer threshold (doesn't matter for outputs)
                      00586         ;CLRF   INLVLA                  ;
                      00587         
0000BE 8EF2           00588         BSF             INTCON, GIE             ; Enable global interupts last
                      00589 #ENDIF
                      00590         
                      00591         
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00592 ;;}
                      00593 ;_______________________________________________________________________________
                      00594 
                      00595 ;_______________________________________________________________________________
                      00596 ; MAIN PROGRAM LOOP
                      00597 ;_______________________________________________________________________________
0000C0                00598 MAIN
                      00599 
                      00600 ;===============================================================================
                      00601 ; Determine lighting mode (Human input, default mode)
                      00602 ;;{
                      00603 ; *TODO* All of this
                      00604 ;;}
                      00605 ;===============================================================================
                      00606 
                      00607 
                      00608 ;===============================================================================
                      00609 ; Compute color data and load buffers
                      00610 ;;{
                      00611 ; Check to see if R channel's ring buffer is full.
0000C0 0E10           00612     MOVLW       .16
0000C2 60??           00613     CPFSLT      R_COUNT
0000C4 D???           00614     BRA         _FILL_G
                      00615 
                      00616 ; Load channel related variables for passing to Cubic Hermite routine
0000C6 C??? F???      00617     MOVFF       R_P0, P0
0000CA C??? F???      00618     MOVFF       R_P1, P1
0000CE C??? F???      00619     MOVFF       R_P2, P2
0000D2 C??? F???      00620     MOVFF       R_P3, P3
0000D6 C??? F???      00621     MOVFF       R_COEF_POINT, _COEF_POINT
0000DA C??? F???      00622     MOVFF       R_COUNT, _COUNT
0000DE C??? FFE9      00623     MOVFF       R_IN_POINT, FSR0L
0000E2 0E??           00624     MOVLW       R_RINGBUFF
0000E4 6E??           00625     MOVWF       _RINGBUFF_P
                      00626 
                      00627 ; This does as much Cubic Hermite on the loaded channel as is possible.
0000E6 D???           00628     RCALL       CUBIC_HERMITE
                      00629 
                      00630 ; Save off this channels variables so we can move to the next.
0000E8 C??? F???      00631     MOVFF       P0, R_P0
0000EC C??? F???      00632     MOVFF       P1, R_P1
0000F0 C??? F???      00633     MOVFF       P2, R_P2
0000F4 C??? F???      00634     MOVFF       P3, R_P3
0000F8 C??? F???      00635     MOVFF       _COEF_POINT, R_COEF_POINT
0000FC C??? F???      00636     MOVFF       _COUNT, R_COUNT
000100 CFE9 F???      00637     MOVFF       FSR0L, R_IN_POINT
                      00638 
000104                00639 _FILL_G
000104 0E10           00640     MOVLW       .16
000106 60??           00641     CPFSLT      G_COUNT
000108 D???           00642     BRA         _FILL_B
                      00643 
00010A C??? F???      00644     MOVFF       G_P0, P0
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00010E C??? F???      00645     MOVFF       G_P1, P1
000112 C??? F???      00646     MOVFF       G_P2, P2
000116 C??? F???      00647     MOVFF       G_P3, P3
00011A C??? F???      00648     MOVFF       G_COEF_POINT, _COEF_POINT
00011E C??? F???      00649     MOVFF       G_COUNT, _COUNT
000122 C??? FFE9      00650     MOVFF       G_IN_POINT, FSR0L
000126 0E??           00651     MOVLW       G_RINGBUFF
000128 6E??           00652     MOVWF       _RINGBUFF_P
                      00653 
00012A D???           00654     RCALL       CUBIC_HERMITE
                      00655 
00012C C??? F???      00656     MOVFF       P0, G_P0
000130 C??? F???      00657     MOVFF       P1, G_P1
000134 C??? F???      00658     MOVFF       P2, G_P2
000138 C??? F???      00659     MOVFF       P3, G_P3
00013C C??? F???      00660     MOVFF       _COEF_POINT, G_COEF_POINT
000140 C??? F???      00661     MOVFF       _COUNT, G_COUNT
000144 CFE9 F???      00662     MOVFF       FSR0L, G_IN_POINT
                      00663 
000148                00664 _FILL_B
000148 0E10           00665     MOVLW       .16
00014A 60??           00666     CPFSLT      B_COUNT
00014C D???           00667     BRA         _LOAD_TIMERS
                      00668 
00014E C??? F???      00669     MOVFF       B_P0, P0
000152 C??? F???      00670     MOVFF       B_P1, P1
000156 C??? F???      00671     MOVFF       B_P2, P2
00015A C??? F???      00672     MOVFF       B_P3, P3
00015E C??? F???      00673     MOVFF       B_COEF_POINT, _COEF_POINT
000162 C??? F???      00674     MOVFF       B_COUNT, _COUNT
000166 C??? FFE9      00675     MOVFF       B_IN_POINT, FSR0L
00016A 0E??           00676     MOVLW       B_RINGBUFF
00016C 6E??           00677     MOVWF       _RINGBUFF_P
                      00678 
00016E D???           00679     RCALL       CUBIC_HERMITE
                      00680 
000170 C??? F???      00681     MOVFF       P0, B_P0
000174 C??? F???      00682     MOVFF       P1, B_P1
000178 C??? F???      00683     MOVFF       P2, B_P2
00017C C??? F???      00684     MOVFF       P3, B_P3
000180 C??? F???      00685     MOVFF       _COEF_POINT, B_COEF_POINT
000184 C??? F???      00686     MOVFF       _COUNT, B_COUNT
000188 CFE9 F???      00687     MOVFF       FSR0L, B_IN_POINT
                      00688 
                      00689 
00018C                00690 _LOAD_TIMERS
                      00691 ; Once we have interpolated on our randomly generated points, we finally have 
                      00692 ; some timeing data to load. This simple routing fills the delays with that data
                      00693 ; This area is where you would modify the loop to get different effects.
00018C A0??           00694     BTFSS       PWM_RLD
00018E D???           00695     BRA         _FILL_PWM
                      00696 
000190 D???           00697     RCALL       READ_BUFFER_R
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000192 6E??           00698     MOVWF       R1_TIME
000194 6E??           00699     MOVWF       R2_TIME
000196 6E??           00700     MOVWF       R3_TIME
000198 6E??           00701     MOVWF       R4_TIME
                      00702 
00019A D???           00703     RCALL       READ_BUFFER_G
00019C 6E??           00704     MOVWF       G1_TIME
00019E 6E??           00705     MOVWF       G2_TIME
0001A0 6E??           00706     MOVWF       G3_TIME
0001A2 6E??           00707     MOVWF       G4_TIME
                      00708 
0001A4 D???           00709     RCALL       READ_BUFFER_B
0001A6 6E??           00710     MOVWF       B1_TIME
0001A8 6E??           00711     MOVWF       B2_TIME
0001AA 6E??           00712     MOVWF       B3_TIME
0001AC 6E??           00713     MOVWF       B4_TIME
                      00714 
0001AE 90??           00715     BCF         PWM_RLD
                      00716 
0001B0                00717 _FILL_PWM
0001B0 B0??           00718     BTFSC       PWM_RLD
0001B2 D???           00719     BRA         _LOAD_TIMERS    
                      00720 
0001B4 0E16           00721     MOVLW       .22
0001B6 60??           00722     CPFSLT      PWM_COUNT
0001B8 D???           00723     BRA         MAIN
                      00724 
0001BA C??? F???      00725     MOVFF       PWM_COUNT, _COUNT
0001BE C??? FFE9      00726     MOVFF       PWM_IN_POINT, FSR0L
0001C2 0E??           00727     MOVLW       PWM_RINGBUFF
0001C4 6E??           00728     MOVWF       _RINGBUFF_P
                      00729 
0001C6 D???           00730     RCALL       TIME_DOWN
                      00731                                 
0001C8 C??? F???      00732     MOVFF       _COUNT, PWM_COUNT
0001CC CFE9 F???      00733     MOVFF       FSR0L, PWM_IN_POINT
                      00734 
0001D0 D???           00735     BRA         _FILL_PWM
                      00736 ;;}
                      00737 ;===============================================================================
                      00738 
                      00739 ;    BRA        MAIN        ; loop program to beginning
                      00740 
                      00741 ;_______________________________________________________________________________
                      00742 ;                                Subroutines
                      00743 ;_______________________________________________________________________________
                      00744 
                      00745 ;-----------------------------------------;
                      00746 ; Decrement timers and buffer bit changes ;
                      00747 ;_______________________________________________________________________________
                      00748 ;;{
0001D2                00749 TIME_DOWN
                      00750 ;       Find the smallest delay, move it to working.
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0001D2 50??           00751     MOVF        R1_TIME,W
0001D4 64??           00752     CPFSGT      G1_TIME
0001D6 50??           00753     MOVF        G1_TIME,W
0001D8 64??           00754     CPFSGT      B1_TIME
0001DA 50??           00755     MOVF        B1_TIME,W
                      00756 
0001DC 64??           00757     CPFSGT      R2_TIME
0001DE 50??           00758     MOVF        R2_TIME,W
0001E0 64??           00759     CPFSGT      G2_TIME
0001E2 50??           00760     MOVF        G2_TIME,W
0001E4 64??           00761     CPFSGT      B2_TIME
0001E6 50??           00762     MOVF        B2_TIME,W
                      00763 
0001E8 64??           00764     CPFSGT      R3_TIME
0001EA 50??           00765     MOVF        R3_TIME,W
0001EC 64??           00766     CPFSGT      G3_TIME
0001EE 50??           00767     MOVF        G3_TIME,W
0001F0 64??           00768     CPFSGT      B3_TIME
0001F2 50??           00769     MOVF        B3_TIME,W
                      00770 
0001F4 64??           00771     CPFSGT      R4_TIME
0001F6 50??           00772     MOVF        R4_TIME,W
0001F8 64??           00773     CPFSGT      G4_TIME
0001FA 50??           00774     MOVF        G4_TIME,W
0001FC 64??           00775     CPFSGT      B4_TIME
0001FE 50??           00776     MOVF        B4_TIME,W
                      00777 
000200 64??           00778     CPFSGT      DUMMY_TIME
000202 50??           00779     MOVF        DUMMY_TIME, W
                      00780 
                      00781 ; WREG now contains the smallest delay, now subtract that from all the delays.
                      00782  
000204 5E??           00783     SUBWF       DUMMY_TIME,F    ; If we go over 255, our PWM period
000206 E0??           00784     BZ          TIME_UP                 ; has been reached, so issue a reset
                      00785 
000208 2AE8           00786     INCF        WREG                    ; Inc so we can get a carry out
                      00787 
                      00788 ; This next part is kinda trick actually.
                      00789 ;
                      00790 ; When a delay overflows, it's associated pin needs a state change. The naive
                      00791 ; aproach would be to simply test for zero, then set/clear a bit. That takes
                      00792 ; 3 instructions per bit. We can do better though ;) The subtract instruction 
                      00793 ; has a TRUE/FALSE result, the carry bit, which we CAN just shift into some
                      00794 ; other buffer. After shifting every bit, we end up with a mask that can simply
                      00795 ; be copied to the Latch register as is. The only intricacy is that we have to 
                      00796 ; do it in the proper order for the resulting mask to match the pinout.
                      00797 
                      00798 ; Use this as a reference for the order the mask needs to be created
                      00799 ;               #define R_1             LATC,0 ; 16
                      00800 ;               #define G_1             LATC,1 ; 15
                      00801 ;               #define B_1             LATC,2 ; 14
                      00802 ;               #define B_4     LATC,3 ; 7
                      00803 ;               #define G_4     LATC,4 ; 6
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00804 ;               #define R_4     LATC,5 ; 5
                      00805 ;               #define R_3     LATC,6 ; 8
                      00806 ;               #define G_3     LATC,7 ; 9
                      00807 
                      00808 ;               #define R_2             LATB,4 ; 13
                      00809 ;               #define G_2             LATB,5 ; 12
                      00810 ;               #define B_2     LATB,6 ; 11
                      00811 ;               #define B_3     LATB,7 ; 10
                      00812 
00020A 5E??           00813     SUBWF       G3_TIME,F
00020C 36??           00814     RLCF        PWM_PINS+0,F
00020E 5E??           00815     SUBWF       R3_TIME,F
000210 36??           00816     RLCF        PWM_PINS+0,F
000212 5E??           00817     SUBWF       R4_TIME,F
000214 36??           00818     RLCF        PWM_PINS+0,F
000216 5E??           00819     SUBWF       G4_TIME,F
000218 36??           00820     RLCF        PWM_PINS+0,F
00021A 5E??           00821     SUBWF       B4_TIME,F
00021C 36??           00822     RLCF        PWM_PINS+0,F
00021E 5E??           00823     SUBWF       B1_TIME,F
000220 36??           00824     RLCF        PWM_PINS+0,F
000222 5E??           00825     SUBWF       G1_TIME,F
000224 36??           00826     RLCF        PWM_PINS+0,F
000226 5E??           00827     SUBWF       R1_TIME,F
000228 36??           00828     RLCF        PWM_PINS+0,F
                      00829 
00022A 68??           00830     SETF        PWM_PINS+1
                      00831 
00022C 5E??           00832     SUBWF       B3_TIME,F
00022E 36??           00833     RLCF        PWM_PINS+1,F
000230 5E??           00834     SUBWF       B2_TIME,F
000232 36??           00835     RLCF        PWM_PINS+1,F
000234 5E??           00836     SUBWF       G2_TIME,F
000236 36??           00837     RLCF        PWM_PINS+1,F
000238 5E??           00838     SUBWF       R2_TIME,F
00023A 36??           00839     RLCF        PWM_PINS+1,F
                      00840 
                      00841 ; WREG still has the lowest delay. Let's buffer it. 
                      00842 
00023C 06E8           00843     DECF        WREG
00023E D???           00844     RCALL       WRITE_PWM_BUFFER
                      00845 
                      00846 ; Also output the mask for the pins that will switch next.
                      00847 
000240 50??           00848     MOVF        PWM_PINS+0,W
000242 D???           00849     RCALL       WRITE_PWM_BUFFER
                      00850 
000244 50??           00851     MOVF        PWM_PINS+1,W
000246 D???           00852     RCALL       WRITE_PWM_BUFFER
                      00853 
000248 0C01           00854     RETLW       SUCCESS
                      00855 
00024A                00856 TIME_UP
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00024A D???           00857     RCALL       WRITE_PWM_BUFFER
                      00858 
00024C 06??           00859     DECF        DUMMY_TIME
                      00860 
00024E 6A??           00861     CLRF        PWM_PINS+0
000250 50??           00862     MOVF        PWM_PINS+0, W
000252 D???           00863     RCALL       WRITE_PWM_BUFFER
                      00864 
000254 0EF0           00865     MOVLW       B'11110000'                     ; Need to leave the top pins alone.
000256 6E??           00866     MOVWF       PWM_PINS+1                      ;
                      00867 
000258 50??           00868     MOVF        PWM_PINS+1, W
00025A D???           00869     RCALL       WRITE_PWM_BUFFER
                      00870 
00025C 80??           00871     BSF         PWM_RLD
00025E 0CFF           00872     RETLW       FAILURE
                      00873 ;;}
                      00874 ;_______________________________________________________________________________
                      00875 
                      00876 ;--------------------------------------------------;
                      00877 ; Fill the starting point buffers with random data ;
                      00878 ;_______________________________________________________________________________
                      00879 ;;{
000260                00880 FILL_BUFFER
000260 EE?? F0??      00881     LFSR    FSR0, R_P0          ; Load pointer to the interpolant data points.
                      00882                         
000264                00883 GEN_LOOP                
000264 D???           00884         RCALL   GEN_RANDOM              ; Generate a new random number from the LFSR
                      00885 
000266 C??? FFEE      00886     MOVFF       RAND, POSTINC0  ; Mov RAND to *FSR
                      00887 
00026A 0E??           00888     MOVLW       B_P3                    ; 
00026C 64E9           00889     CPFSGT      FSR0L                   ; if interpolant pointer > last point
00026E D???           00890     BRA         GEN_LOOP                ; move on.
000270 0012           00891     RETURN
                      00892 ;;}
                      00893 ;_______________________________________________________________________________
                      00894 
                      00895 ;----------------------------------------------------------;
                      00896 ; Cubic Hermite Interpolation, using precomputed constants ;
                      00897 ;_______________________________________________________________________________
                      00898 ;;{
                      00899 ;*******************************************************************************
                      00900 ; Big thanks to Robert Bristow-Johnson, and Olli Niemitalo from signal processing 
                      00901 ; Stack Exchange. Without these two, I never would have understood how to do this.
                      00902 ; Here is a (split) URL to my question, and their response, for more info.
                      00903 ;
                      00904 ; http://dsp.stackexchange.com/questions/36250/
                      00905 ; algorithm-for-1d-spline-interpolation-suitable-for-8-bit-microcontroler
                      00906 ;
                      00907 ;*******************************************************************************
                      00908 ;
                      00909 ; There are (at least) two ways to do this calculation
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00910 ;
                      00911 ;       (1): (C1*P1 + C2*P2)-(C0*P0 + C3*P3)
                      00912 ;       (2): (((C1*P1 + C2*P2)- C0*P0) - C3*P3)
                      00913 ; 
                      00914 ; The addition rutine has a single bit overflow, using it twice would compound 
                      00915 ; the issue. The subtraction can handle it by assuming a borrow was an addition 
                      00916 ; overflow. So the number 2 case is the prefered way to do this.
                      00917 ;_______________________________________________________________________________
                      00918 
000272                00919 CUBIC_HERMITE
000272 D???           00920     RCALL       GET_COEF                ; Load the coefficents for our fractional step
                      00921 
000274 3EE8           00922     INCFSZ      WREG                    ; Sub returns FAILURE status when the
000276 D???           00923     BRA         ITTERATE                ; fraction is 0, meaning output = P1
                      00924 
                      00925 ; Cycle points
                      00926 ;-------------------------------------------------------------------------------
000278 C??? F???      00927     MOVFF       P1,P0                   ; To keep the curvy line smooth and 
00027C C??? F???      00928     MOVFF       P2,P1                   ; break free, we "slide" the control
000280 C??? F???      00929     MOVFF       P3,P2                   ; points back down, and load one more
                      00930                                                         ; random byte on the top 
                      00931                         
000284 D???           00932     RCALL       GEN_RANDOM              ; Generate a new random number from the LFSR
                      00933 
000286 C??? F???      00934     MOVFF       RAND, P3                ; Load our adjusted random number
                      00935 ;-------------------------------------------------------------------------------
                      00936 
00028A 50??           00937     MOVF        P1,W                    ; Since we are starting from 0, output = P1
                      00938 
00028C                00939 WRITE_BUFFER
00028C D???           00940     RCALL       WRITE_RING_BUFFER
                      00941 
00028E 3EE8           00942     INCFSZ      WREG
000290 D???           00943     BRA         CUBIC_HERMITE
000292 0012           00944     RETURN
                      00945 
                      00946 ;-------------------------------------------------------------------------------
                      00947 ;       16x8 Bit Unsigned Fixed Point Multiply 16 x 08 -> 24
                      00948 ;
                      00949 ;       Input:  16 bit unsigned fixed point multiplicand in Cn+0 and Cn+1
                      00950 ;                       8 bit unsigned fixed point multiplier in Pn
                      00951 ;
                      00952 ;       Output: 24 bit unsigned fixed point product in CnxPn+0, CnxPn+1, CnxPn+2
                      00953 ;-------------------------------------------------------------------------------
                      00954 
000294                00955 ITTERATE
                      00956 ; C1*P1
000294 50??           00957     MOVF        P0, W
000296 02??           00958     MULWF       C0+1
000298 CFF4 F???      00959     MOVFF       PRODH, C0XP0+2
00029C CFF3 F???      00960     MOVFF       PRODL, C0XP0+1
0002A0 02??           00961     MULWF       C0+0
0002A2 CFF3 F???      00962     MOVFF       PRODL, C0XP0+0
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0002A6 50F4           00963     MOVF        PRODH, W
0002A8 26??           00964     ADDWF       C0XP0+1, F
0002AA E3??           00965     BNC         $ + 4
0002AC 2A??           00966     INCF        C0XP0+2
                      00967 ; C2*P2
0002AE 50??           00968     MOVF        P1, W
0002B0 02??           00969     MULWF       C1+1
0002B2 CFF4 F???      00970     MOVFF       PRODH, C1XP1+2
0002B6 CFF3 F???      00971     MOVFF       PRODL, C1XP1+1
0002BA 02??           00972     MULWF       C1+0
0002BC CFF3 F???      00973     MOVFF       PRODL, C1XP1+0
0002C0 50F4           00974     MOVF        PRODH, W
0002C2 26??           00975     ADDWF       C1XP1+1, F
0002C4 E3??           00976     BNC         $ + 4
0002C6 2A??           00977     INCF        C1XP1+2
                      00978 ; C0*P0
0002C8 50??           00979     MOVF        P2, W
0002CA 02??           00980     MULWF       C2+1
0002CC CFF4 F???      00981     MOVFF       PRODH, C2XP2+2
0002D0 CFF3 F???      00982     MOVFF       PRODL, C2XP2+1
0002D4 02??           00983     MULWF       C2+0
0002D6 CFF3 F???      00984     MOVFF       PRODL, C2XP2+0
0002DA 50F4           00985     MOVF        PRODH, W
0002DC 26??           00986     ADDWF       C2XP2+1, F
0002DE E3??           00987     BNC         $ + 4
0002E0 2A??           00988     INCF        C2XP2+2
                      00989 ; C3*P3
0002E2 50??           00990     MOVF        P3, W
0002E4 02??           00991     MULWF       C3+1
0002E6 CFF4 F???      00992     MOVFF       PRODH, C3XP3+2
0002EA CFF3 F???      00993     MOVFF       PRODL, C3XP3+1
0002EE 02??           00994     MULWF       C3+0
0002F0 CFF3 F???      00995     MOVFF       PRODL, C3XP3+0
0002F4 50F4           00996     MOVF        PRODH, W
0002F6 26??           00997     ADDWF       C3XP3+1, F
0002F8 E3??           00998     BNC         $ + 4
0002FA 2A??           00999     INCF        C3XP3+2
                      01000 ;
                      01001 ; 24 bit addition with carry through.
                      01002 ; Operation: C2xP2 + C1xP1 => C1xP1
                      01003 ;
0002FC 50??           01004     MOVF    C2XP2+0,W           ; Get low byte
0002FE 26??           01005     ADDWF   C1XP1+0,F           ; Add to destination
000300 50??           01006     MOVF    C2XP2+1,W           ; Get high byte
000302 22??           01007     ADDWFC  C1XP1+1,F           ; Add high byte + carry
000304 50??           01008     MOVF    C2XP2+2,W           ;
000306 22??           01009     ADDWFC  C1XP1+2,F           ; Add high byte + carry
                      01010 
                      01011 ;-------------------------------------------------------------------------------
                      01012 ; There is an edge case where this last ADDWFC instruction results in a carry. 
                      01013 ; This ignored here because it's handled when the subtraction results in borrow.
                      01014 ;-------------------------------------------------------------------------------
                      01015 ;
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01016 ; 24 bit subtraction: C1xP1 - C0xP0 => C1xP1
                      01017 ; Carry is preserved.
                      01018 ;
000308 50??           01019     MOVF    C0XP0+0,W           ; 
00030A 5E??           01020     SUBWF   C1XP1+0,F           ; 
00030C 50??           01021     MOVF    C0XP0+1,W           ; Chain of subtractions with borrow
00030E 5A??           01022     SUBWFB      C1XP1+1,F               ; 
000310 50??           01023     MOVF    C0XP0+2,W           ; 
000312 5A??           01024     SUBWFB      C1XP1+2,F               ; 
                      01025 
000314 E2??           01026     BC          $ + .8                  ; 
000316 68E8           01027     SETF        WREG                    ; For the edge case where we borrow on  
000318 26??           01028     ADDWF       C1XP1+2,F               ; the high byte, add 255+1 (256) to it.
00031A 2A??           01029     INCF        C1XP1+2,F               ; (There could only have been 1 carry bit)
                      01030 ;
                      01031 ; 24 bit subtraction: C1xP1 - C3xP3 => C1xP1
                      01032 ; Carry is preserved.
                      01033 ;
00031C 50??           01034     MOVF    C3XP3+0,W           ; 
00031E 5E??           01035     SUBWF   C1XP1+0,F           ; 
000320 50??           01036     MOVF    C3XP3+1,W           ; Chain of subtractions with borrow
000322 5A??           01037     SUBWFB      C1XP1+1,F               ; 
000324 50??           01038     MOVF        C3XP3+2,W               ; 
000326 5A??           01039     SUBWFB      C1XP1+2,F               ; 
                      01040 
000328 E2??           01041     BC          $ + .8                  ; 
00032A 68E8           01042     SETF        WREG                    ; For the edge case where we borrow on
00032C 26??           01043     ADDWF       C1XP1+2,F               ; the high byte, add 255+1 (256) to it.
00032E 2A??           01044     INCF        C1XP1+2,F               ;(There could only have been 1 carry bit)
                      01045 ;
                      01046 ; Round by adding 0.5 (128) to the mid byte. Low byte is so insignificant
                      01047 ; that we don't need to bother rounding through it; just save the cycles.
                      01048 ;
000330 0E80           01049     MOVLW   .128                ; 
000332 26??           01050     ADDWF   C1XP1+1,F           ; If there is a carry here, then the fraction 
000334 B0D8           01051     BTFSC   STATUS,C            ; (C1xP1-mid) is higher than half, or 0.5
000336 28??           01052     INCF    C1XP1+2,W           ; So the whole part (C1xP1-High) rounds up 1.
                      01053 ;
                      01054 ; Output byte to the buffer.
                      01055 ;
000338 50??           01056     MOVF    C1XP1+2,W   ; Dropping the lowest two bytes is
                      01057                                 ; an effective divide by 2^16
                      01058 
                      01059 ; WREG now contains answer
                      01060 
00033A D???           01061     BRA     WRITE_BUFFER        ; Start it up again.
                      01062 ;;}
                      01063 ;_______________________________________________________________________________
                      01064 
                      01065 ;--------------------------------------;
                      01066 ; Get coefficients (8 Byte table read) ;
                      01067 ;_______________________________________________________________________________
                      01068 ;;{
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00033C                01069 GET_COEF  
00033C 66??           01070     TSTFSZ      _COEF_POINT
00033E D???           01071     BRA         $ + .8
                      01072 
000340 0E08           01073     MOVLW       .8              ; Manually increment pointer to coefficient
000342 26??           01074     ADDWF       _COEF_POINT,F   ; data (in multiples of 8 (2-byte x 4-byte))
                      01075 
000344 0CFF           01076     RETLW       FAILURE         ; First set is constant answer, so just return
                      01077 
000346 C??? FFF6      01078     MOVFF   _COEF_POINT, TBLPTRL
00034A 6AF8           01079     CLRF    TBLPTRU                     ; 
00034C 0E08           01080     MOVLW     0X08                      ; Load TBLPTR with the base address
00034E 6EF7           01081     MOVWF   TBLPTRH             ; 
                      01082 
000350 0009           01083     TBLRD*+                     ; read into TABLAT and increment
000352 50F5           01084     MOVF    TABLAT, W           ; get data
000354 6E??           01085     MOVWF     C0+0
000356 0009           01086     TBLRD*+                                     ; read into TABLAT and increment
000358 50F5           01087     MOVF    TABLAT, W           ; get data
00035A 6E??           01088     MOVWF     C0+1
00035C 0009           01089     TBLRD*+                                     ; read into TABLAT and increment
00035E 50F5           01090     MOVF    TABLAT, W           ; get data
000360 6E??           01091     MOVWF     C1+0
000362 0009           01092     TBLRD*+                                     ; read into TABLAT and increment
000364 50F5           01093     MOVF    TABLAT, W           ; get data
000366 6E??           01094     MOVWF         C1+1
000368 0009           01095     TBLRD*+                     ; read into TABLAT and increment
00036A 50F5           01096     MOVF    TABLAT, W           ; get data
00036C 6E??           01097     MOVWF     C2+0
00036E 0009           01098     TBLRD*+                                     ; read into TABLAT and increment
000370 50F5           01099     MOVF    TABLAT, W           ; get data
000372 6E??           01100     MOVWF     C2+1
000374 0009           01101     TBLRD*+                                     ; read into TABLAT and increment
000376 50F5           01102     MOVF    TABLAT, W           ; get data
000378 6E??           01103     MOVWF     C3+0
00037A 0009           01104     TBLRD*+                                     ; read into TABLAT and increment
00037C 50F5           01105     MOVF    TABLAT, W           ; get data
00037E 6E??           01106     MOVWF         C3+1
                      01107 
000380 CFF6 F???      01108     MOVFF   TBLPTRL, _COEF_POINT ; This automatically makes the pointer right
                      01109 
000384 0E80           01110     MOVLW       0X80                    ; 
000386 6000           01111     CPFSLT      _COEF_POINT,W   ; If we're past the end of the table,
000388 6A??           01112     CLRF        _COEF_POINT             ; need to go back to the start (0x00)
                      01113 
00038A 0C01           01114     RETLW       SUCCESS
                      01115 ;;}
                      01116 ;_______________________________________________________________________________
                      01117 
                      01118 ;-------------------;
                      01119 ; Write ring buffer ;
                      01120 ;_______________________________________________________________________________
                      01121 ;;{
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01122 ; *TODOs* 
                      01123 ; (1) consolidate this all into one sub that will work for any ring buffer.
                      01124 ; (2) Use the FLAGS reg to signal to the system the state of a buffer.
                      01125 
00038C                01126 WRITE_RING_BUFFER
00038C 6E??           01127     MOVWF       _CHAR
                      01128 
00038E 0E10           01129     MOVLW       .16
000390 60??           01130     CPFSLT      _COUNT
000392 D???           01131     BRA         CANT_WRITE
000394 6AEA           01132     CLRF        FSR0H
000396 C??? FFEE      01133     MOVFF       _CHAR, POSTINC0
00039A 2A??           01134     INCF        _COUNT
00039C 0E10           01135     MOVLW       .16
00039E 5CE9           01136     SUBWF       FSR0L,W
0003A0 64??           01137     CPFSGT      _RINGBUFF_P
0003A2 6EE9           01138     MOVWF       FSR0L
                      01139 
0003A4 0C01           01140     RETLW       SUCCESS
0003A6                01141 CANT_WRITE                                                      
0003A6 0CFF           01142     RETLW       FAILURE
                      01143 ;-------------------------------------------------------------------------------
0003A8                01144 WRITE_PWM_BUFFER
0003A8 6E??           01145     MOVWF       _CHAR
                      01146 
0003AA 0E18           01147     MOVLW       .24
0003AC 60??           01148     CPFSLT      _COUNT
0003AE D???           01149     BRA         CANT_WRITE_PWM
0003B0 6AEA           01150     CLRF        FSR0H
0003B2 C??? FFEE      01151     MOVFF       _CHAR, POSTINC0
0003B6 2A??           01152     INCF        _COUNT
0003B8 0E18           01153     MOVLW       .24
0003BA 5CE9           01154     SUBWF       FSR0L,W
0003BC 64??           01155     CPFSGT      _RINGBUFF_P
0003BE 6EE9           01156     MOVWF       FSR0L
                      01157 
0003C0 0C01           01158     RETLW       SUCCESS
0003C2                01159 CANT_WRITE_PWM                                                  
0003C2 0CFF           01160     RETLW       FAILURE
                      01161 ;;}
                      01162 ;_______________________________________________________________________________
                      01163 
                      01164 ;------------------;
                      01165 ; Read ring buffer ;
                      01166 ;_______________________________________________________________________________
                      01167 ;;{
0003C4                01168 READ_BUFFER_PWM
0003C4 50??           01169     MOVF        PWM_COUNT,W             ; 
0003C6 E1??           01170     BNZ         $ + .4                  ;  if (count > max)
0003C8 D???           01171     BRA         READ_PWM_ERROR          ; {
0003CA 6AEA           01172     CLRF        FSR0H                   ; 
0003CC C??? FFE9      01173     MOVFF       PWM_OUT_POINT, FSR0L    ; FSR = output_pointer;
0003D0 CFEF F???      01174     MOVFF       INDF0, _CHAR            ; character = *FSR;
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003D4 2A??           01175     INCF        PWM_OUT_POINT           ; output_pointer++;
0003D6 06??           01176     DECF        PWM_COUNT               ; count--;
0003D8 0E??           01177     MOVLW       PWM_RINGBUFF+.23        ; 
0003DA 64??           01178     CPFSGT      PWM_OUT_POINT           ; if (output_pointer > end_of_buffer)
0003DC D???           01179     BRA         FINISH_READ_PWM         ;   {
0003DE 0E??           01180     MOVLW       PWM_RINGBUFF            ;   output_pointer = start_of_buffer;
0003E0 6E??           01181     MOVWF       PWM_OUT_POINT           ;   }
0003E2                01182 FINISH_READ_PWM                         ; }
0003E2 50??           01183     MOVF        _CHAR, W
0003E4 0012           01184     RETURN
0003E6                01185 READ_PWM_ERROR
0003E6 0CFF           01186     RETLW FAILURE               ; *TODO* Should do something else here
                      01187 ;-------------------------------------------------------------------------------
0003E8                01188 READ_BUFFER_R
0003E8 50??           01189     MOVF        R_COUNT,W               ; 
0003EA E1??           01190     BNZ         $ + .4                  ;  if (count > max)
0003EC D???           01191     BRA         READ_R_ERROR            ; {
0003EE 6AEA           01192     CLRF        FSR0H                   ; 
0003F0 C??? FFE9      01193     MOVFF       R_OUT_POINT, FSR0L      ; FSR = output_pointer;
0003F4 CFEF F???      01194     MOVFF       INDF0, _CHAR            ; character = *FSR;
0003F8 2A??           01195     INCF        R_OUT_POINT             ; output_pointer++;
0003FA 06??           01196     DECF        R_COUNT                 ; count--;
0003FC 0E??           01197     MOVLW       R_RINGBUFF+.15          ; 
0003FE 64??           01198     CPFSGT      R_OUT_POINT             ; if (output_pointer > end_of_buffer)
000400 D???           01199     BRA         FINISH_READ_R           ;   {
000402 0E??           01200     MOVLW       R_RINGBUFF              ;   output_pointer = start_of_buffer;
000404 6E??           01201     MOVWF       R_OUT_POINT             ;   }
000406                01202 FINISH_READ_R                           ; }
000406 50??           01203     MOVF        _CHAR, W
000408 0012           01204     RETURN
00040A                01205 READ_R_ERROR
00040A 0CFF           01206     RETLW FAILURE               ; *TODO* Should do something else here
                      01207 ;-------------------------------------------------------------------------------
00040C                01208 READ_BUFFER_G
00040C 50??           01209     MOVF        G_COUNT,W               ; 
00040E E1??           01210     BNZ         $ + .4                  ;  if (count > max)
000410 D???           01211     BRA         READ_G_ERROR            ; {
000412 6AEA           01212     CLRF        FSR0H                   ; 
000414 C??? FFE9      01213     MOVFF       G_OUT_POINT, FSR0L      ; FSR = output_pointer;
000418 CFEF F???      01214     MOVFF       INDF0, _CHAR            ; character = *FSR;
00041C 2A??           01215     INCF        G_OUT_POINT             ; output_pointer++;
00041E 06??           01216     DECF        G_COUNT                 ; count--;
000420 0E??           01217     MOVLW       G_RINGBUFF+.15          ; 
000422 64??           01218     CPFSGT      G_OUT_POINT             ; if (output_pointer > end_of_buffer)
000424 D???           01219     BRA         FINISH_READ_G           ;   {
000426 0E??           01220     MOVLW       G_RINGBUFF              ;   output_pointer = start_of_buffer;
000428 6E??           01221     MOVWF       G_OUT_POINT             ;   }
00042A                01222 FINISH_READ_G                           ; }
00042A 50??           01223     MOVF        _CHAR, W
00042C 0012           01224     RETURN
00042E                01225 READ_G_ERROR
00042E 0CFF           01226     RETLW FAILURE               ; *TODO* Should do something else here
                      01227 ;-------------------------------------------------------------------------------
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000430                01228 READ_BUFFER_B
000430 50??           01229     MOVF        B_COUNT,W               ; 
000432 E1??           01230     BNZ         $ + .4                  ;  if (count > max)
000434 D???           01231     BRA         READ_B_ERROR            ; {
000436 6AEA           01232     CLRF        FSR0H                   ; 
000438 C??? FFE9      01233     MOVFF       B_OUT_POINT, FSR0L      ; FSR = output_pointer;
00043C CFEF F???      01234     MOVFF       INDF0, _CHAR            ; character = *FSR;
000440 2A??           01235     INCF        B_OUT_POINT             ; output_pointer++;
000442 06??           01236     DECF        B_COUNT                 ; count--;
000444 0E??           01237     MOVLW       B_RINGBUFF+.15          ; 
000446 64??           01238     CPFSGT      B_OUT_POINT             ; if (output_pointer > end_of_buffer)
000448 D???           01239     BRA         FINISH_READ_B           ;   {
00044A 0E??           01240     MOVLW       B_RINGBUFF              ;   output_pointer = start_of_buffer;
00044C 6E??           01241     MOVWF       B_OUT_POINT             ;   }
00044E                01242 FINISH_READ_B                           ; }
00044E 50??           01243     MOVF        _CHAR, W
000450 0012           01244     RETURN
000452                01245 READ_B_ERROR
000452 0CFF           01246     RETLW FAILURE               ; *TODO* Should do something else here
                      01247 ;;}
                      01248 ;_______________________________________________________________________________
                      01249 
                      01250 ;----------------------;
                      01251 ; Read from the EEPROM ;
                      01252 ;_______________________________________________________________________________
                      01253 ;;{
                      01254 ; This subroutine reads a segment of data from the EEPROM to RAM. 
                      01255 ;
                      01256 ; The parameters are.
                      01257 ;
                      01258 ; EE_ADDRESS = The 8-bit address of EEPROM to read.
                      01259 ; EE_LENGTH  = The length of data to be read.
                      01260 ; <RAM TARGET> WREG = The address in ram to move the string too.
                      01261 ;
                      01262 ; It's called as follows.
                      01263 ;-------------------------------------
                      01264 ; MOVLW <EE address you want to read>
                      01265 ; MOVWF EE_ADDRESS
                      01266 ;
                      01267 ; MOVLW <length of string, in Hex>
                      01268 ; MOVWF EE_LENGTH
                      01269 ;
                      01270 ; MOVLW <name of a variable, or buffer address>
                      01271 ;
                      01272 ; CALL EE_READ
                      01273 ;-------------------------------------
                      01274 ; You of course must have the two variables declared in your main ASM file
                      01275 ;_______________________________________________________________________________                        
                                                            
                      01276 #IFDEF __18F18K50
                      01277 EE_READ
                      01278     MOVWF       FSR0L               ; Load the indirect address pointer with the
                      01279     CLRF        FSR0H               ; address of the first byte of our RAM buffer
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01280 
                      01281     BCF         EECON1, EEPGD       ; Target is EEPROM, not program memory
                      01282     BCF         EECON1, CFGS        ; Target is NOT Configuration memory
                      01283 ;BRA $ - .14 destination                
                      01284     MOVF        EE_ADDRESS, W       ; Load the EEPROM engine with 
                      01285     MOVWF       EEADR               ; the address for our EE data
                      01286 
                      01287     BSF         EECON1, RD          ; Begin the EEPROM read operation
                      01288 
                      01289     MOVFF       EEDATA, POSTINC0    ; Move EE data to RAM via pointer. pointer++
                      01290 
                      01291     INCF        EE_ADDRESS          ; Increase the EE address by one.
                      01292     DECFSZ      EE_LENGTH, F        ; Decrement the counter.
                      01293     BRA         $ - .14             ; If not overflow, loop again.
                      01294     RETURN
                      01295 #ENDIF
                      01296         
                      01297 #IFDEF __18F27K40
000454                01298 EE_READ
000454 6EE9           01299         MOVWF   FSR0L               ; Load the indirect address pointer with the
000456 6AEA           01300     CLRF        FSR0H               ; address of the first byte of our RAM buffer
                      01301         
000458 9C81           01302         BCF             NVMCON1, NVMREG0        ; Setup Data EEPROM Access
00045A 9E81           01303         BCF             NVMCON1, NVMREG1        ; Setup Data EEPROM Access
                      01304         
00045C 6A7F           01305         CLRF    NVMADRH                         ; Setup Address high byte (if applicable)
00045E 50??           01306         MOVF    EE_ADDRESS, W           ;
000460 6E7E           01307         MOVWF   NVMADRL                         ; Setup Address low byte
                      01308 
000462 8081           01309         BSF             NVMCON1, RD                     ; Issue EE Read
                      01310 
000464 CF80 FFEE      01311     MOVFF       NVMDAT, POSTINC0    ; Move EE data to RAM via pointer. pointer++
                      01312         
000468 2A??           01313         INCF    EE_ADDRESS          ; Increase the EE address by one.
00046A 2E??           01314     DECFSZ      EE_LENGTH, F        ; Decrement the counter.
00046C D???           01315     BRA         $ - .16             ; If not overflow, loop again.
00046E 0012           01316     RETURN
                      01317 #ENDIF
                      01318 ;;}
                      01319 ;_______________________________________________________________________________
                      01320 
                      01321 ;-------------------------------;
                      01322 ; psudo-random number generator ;
                      01323 ;_______________________________________________________________________________
                      01324 ;;{
000470                01325 GEN_RANDOM
000470 D???           01326     RCALL       _48BIT_LFSR
000472 D???           01327     RCALL       _48BIT_LFSR
000474 D???           01328     RCALL       _48BIT_LFSR
000476 D???           01329     RCALL       _48BIT_LFSR
000478 D???           01330     RCALL       _48BIT_LFSR
00047A D???           01331     RCALL       _48BIT_LFSR
00047C D???           01332     RCALL       _48BIT_LFSR
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00047E D???           01333     RCALL       _48BIT_LFSR     
                      01334 
000480 0E10           01335     MOVLW       .16                     ;
000482 64??           01336     CPFSGT      RAND                    ;
000484 6E??           01337     MOVWF       RAND                    ; Keep random number in a +16-
000486 0EEF           01338     MOVLW       .255-.16                ; range to prevent overshoot
000488 60??           01339     CPFSLT      RAND                    ;
00048A 6E??           01340     MOVWF       RAND                    ;
00048C 0012           01341     RETURN
                      01342 ;;}
                      01343 ;_______________________________________________________________________________
                      01344 
                      01345 ;-----------------------------------------;
                      01346 ;  LFSR "Linear feedback shift register"  ;
                      01347 ;_______________________________________________________________________________
                      01348 ;;{
                      01349 ; Note: An even number of bytes is the most memory efficient length for an LFSR.  
                      01350 ; However, as a general rule even length LFSRs take more operations to implement 
                      01351 ; maximal period, so are slower to execute. The best compromise for this is an 
                      01352 ; even number of bytes -1 bit (though -3 bits is also good). This general rule 
                      01353 ; does not apply to 1 or 2 byte LFSRs, which are special cases. The larger the 
                      01354 ; LFSR the less important this detail becomes as the shifts will dominate the 
                      01355 ; time taken.
                      01356 ;_______________________________________________________________________________
00048E                01357 _48BIT_LFSR
00048E 90D8           01358     BCF         STATUS, C       ; Clear unknown bit out of carry
                      01359 
000490 32??           01360     RRCF        LFSR_01, F      ;
000492 32??           01361     RRCF        LFSR_02, F      ;
000494 32??           01362     RRCF        LFSR_03, F      ; Rotate (shift) registers through the carry.
000496 32??           01363     RRCF        LFSR_04, F      ;
000498 32??           01364     RRCF        LFSR_05, F      ;
00049A 32??           01365     RRCF        RAND, F         ;
                      01366 
00049C E3??           01367     BNC         $ +     .10     ; Test the output bit. (lsb)
                      01368                                 ; If it is 0, do nothing and just move on.
                      01369                                 ; If it is 1, then we XOR in our bit mask.
                      01370 
00049E 0E89           01371     MOVLW       B'10001001' ; Bits 48, 44, 41
0004A0 1A??           01372     XORWF       LFSR_01, F      ; 
0004A2 0E40           01373     MOVLW       B'01000000'     ; Bits 39
0004A4 1A??           01374     XORWF       LFSR_02, F      ; 
0004A6 0012           01375     RETURN
                      01376 ;;}
                      01377 ;_______________________________________________________________________________
                      01378 
                      01379 ;------------------------;
                      01380 ;  LUT (Look Up Tables)  ;
                      01381 ;_______________________________________________________________________________
                      01382 ;;{
                      01383 ; 4x4 cubic Hermite spline coefficients (bugged)
                      01384 ;                       *TODO* First one was bugged.
                      01385 ; 16x4 .(2^16) cubic Hermite spline coefficients
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0004A8                01386 _16X4_TABLE             
                      01387     ORG 0X0800
000800 0000 0000 0000 01388     DATA        .0,             .0,             .0,             .0
       0000 
000808 0708 FD98 09E8 01389     DATA        .1800,  .64920, .2536,  .120
       0078 
000810 0C40 F6C0 1740 01390     DATA        .3136,  .63168, .5952,  .448
       01C0 
000818 0FD8 EC08 2778 01391     DATA        .4056,  .60424, .10104, .936
       03A8 
000820 1200 DE00 3A00 01392     DATA        .4608,  .56832, .14848, .1536
       0600 
000828 12E8 CD38 4E48 01393     DATA        .4840,  .52536, .20040, .2200
       0898 
000830 12C0 BA40 63C0 01394     DATA        .4800,  .47680, .25536, .2880
       0B40 
000838 11B8 A5A8 79D8 01395     DATA        .4536,  .42408, .31192, .3528
       0DC8 
000840 1000 9000 9000 01396     DATA        .4096,  .36864, .36864, .4096
       1000 
000848 0DC8 79D8 A5A8 01397     DATA        .3528,  .31192, .42408, .4536
       11B8 
000850 0B40 63C0 BA40 01398     DATA        .2880,  .25536, .47680, .4800
       12C0 
000858 0898 4E48 CD38 01399     DATA        .2200,  .20040, .52536, .4840
       12E8 
000860 0600 3A00 DE00 01400     DATA        .1536,  .14848, .56832, .4608
       1200 
000868 03A8 2778 EC08 01401     DATA        .936,   .10104, .60424, .4056
       0FD8 
000870 01C0 1740 F6C0 01402     DATA        .448,   .5952,  .63168, .3136
       0C40 
000878 0078 09E8 FD98 01403     DATA        .0120,  .2536,  .64920, .1800
       0708 
                      01404 ; 8x4 .(2^16) cubic Hermite spline coefficients
000880                01405 _8X4_16BIT_TABLE
                      01406                                 ;ORG 0x0800
000880 0000 0000 0000 01407     DATA        .0,     .0,     .0,     .0
       0000 
000888 0C40 F6C0 1740 01408     DATA        .3136,  .63168, .5952,  .448
       01C0 
000890 1200 DE00 3A00 01409     DATA        .4608,  .56832, .14848, .1536
       0600 
000898 12C0 BA40 63C0 01410     DATA        .4800,  .47680, .25536, .2880
       0B40 
0008A0 1000 9000 9000 01411     DATA        .4096,  .36864, .36864, .4096
       1000 
0008A8 0B40 63C0 BA40 01412     DATA        .2880,  .25536, .47680, .4800
       12C0 
0008B0 0600 3A00 DE00 01413     DATA        .1536,  .14848, .56832, .4608
       1200 
0008B8 01C0 1740 F6C0 01414     DATA        .448,   .5952,  .63168, .3136
       0C40 
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01415 ; 8x4 .(2^8) cubic Hermite spline coefficients (Rounded)
0008C0                01416 _8X4_8BIT_TABLE
                      01417                                 ;ORG 0x0800
0008C0 0000 0000      01418     DB          .0,             .0,             .0,             .0
0008C4 F70C 0217      01419     DB          .12,    .247,   .23,    .2
0008C8 DE12 063A      01420     DB          .18,    .222,   .58,    .6
0008CC BA13 0B64      01421     DB          .19,    .186,   .100,   .11
0008D0 9010 1090      01422     DB          .16,    .144,   .144,   .16
0008D4 640B 13BA      01423     DB          .11,    .100,   .186,   .19
0008D8 3A06 12DE      01424     DB          .6,             .58,    .222,   .18
0008DC 1702 0CF7      01425     DB          .2,             .23,    .247,   .12
0008E0                01426 _TABLE_END              ;ORG 0x0800
                      01427 ;;}
                      01428 ;_______________________________________________________________________________
                      01429 
                      01430     END
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

A                                 00000000
ABDEN                             00000000
ABDOVF                            00000007
ACC0                              00000000
ACC1                              00000001
ACC10                             00000002
ACC11                             00000003
ACC12                             00000004
ACC13                             00000005
ACC14                             00000006
ACC15                             00000007
ACC2                              00000002
ACC3                              00000003
ACC4                              00000004
ACC5                              00000005
ACC6                              00000006
ACC7                              00000007
ACC8                              00000000
ACC9                              00000001
ACCESS                            00000000
ACCM                              00000004
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACKTIM                            00000007
ADACC                             00000F70
ADACC0                            00000000
ADACC1                            00000001
ADACC10                           00000002
ADACC11                           00000003
ADACC12                           00000004
ADACC13                           00000005
ADACC14                           00000006
ADACC15                           00000007
ADACC2                            00000002
ADACC3                            00000003
ADACC4                            00000004
ADACC5                            00000005
ADACC6                            00000006
ADACC7                            00000007
ADACC8                            00000000
ADACC9                            00000001
ADACCH                            00000F71
ADACCL                            00000F70
ADACLR                            00000003
ADACQ                             00000F5C
ADACQ0                            00000000
ADACQ1                            00000001
ADACQ2                            00000002
ADACQ3                            00000003
ADACQ4                            00000004
ADACQ5                            00000005
ADACQ6                            00000006
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

ADACQ7                            00000007
ADACT                             00000F56
ADACT0                            00000000
ADACT1                            00000001
ADACT2                            00000002
ADACT3                            00000003
ADACT4                            00000004
ADACTPPS                          00000EAE
ADACTPPS0                         00000000
ADACTPPS1                         00000001
ADACTPPS2                         00000002
ADACTPPS3                         00000003
ADACTPPS4                         00000004
ADAOV                             00000007
ADCALC0                           00000004
ADCALC1                           00000005
ADCALC2                           00000006
ADCAP                             00000F5D
ADCAP0                            00000000
ADCAP1                            00000001
ADCAP2                            00000002
ADCAP3                            00000003
ADCAP4                            00000004
ADCLK                             00000F57
ADCMD                             00000005
ADCNT                             00000F67
ADCNT0                            00000000
ADCNT1                            00000001
ADCNT2                            00000002
ADCNT3                            00000003
ADCNT4                            00000004
ADCNT5                            00000005
ADCNT6                            00000006
ADCNT7                            00000007
ADCON0                            00000F60
ADCON1                            00000F59
ADCON2                            00000F5A
ADCON3                            00000F5B
ADCONT                            00000006
ADCRS0                            00000004
ADCRS1                            00000005
ADCRS2                            00000006
ADCS                              00000004
ADCS0                             00000000
ADCS1                             00000001
ADCS2                             00000002
ADCS3                             00000003
ADCS4                             00000004
ADCS5                             00000005
ADDEN                             00000003
ADDSEN                            00000000
ADERR                             00000F6E
ADERR0                            00000000
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

ADERR1                            00000001
ADERR10                           00000002
ADERR11                           00000003
ADERR12                           00000004
ADERR13                           00000005
ADERR14                           00000006
ADERR15                           00000007
ADERR2                            00000002
ADERR3                            00000003
ADERR4                            00000004
ADERR5                            00000005
ADERR6                            00000006
ADERR7                            00000007
ADERR8                            00000000
ADERR9                            00000001
ADERRH                            00000F6F
ADERRL                            00000F6E
ADFLTR                            00000F72
ADFLTR0                           00000000
ADFLTR1                           00000001
ADFLTR10                          00000002
ADFLTR11                          00000003
ADFLTR12                          00000004
ADFLTR13                          00000005
ADFLTR14                          00000006
ADFLTR15                          00000007
ADFLTR2                           00000002
ADFLTR3                           00000003
ADFLTR4                           00000004
ADFLTR5                           00000005
ADFLTR6                           00000006
ADFLTR7                           00000007
ADFLTR8                           00000000
ADFLTR9                           00000001
ADFLTRH                           00000F73
ADFLTRL                           00000F72
ADFM                              00000002
ADFM0                             00000002
ADFVR0                            00000000
ADFVR1                            00000001
ADGO                              00000000
ADGPOL                            00000005
ADIE                              00000000
ADIF                              00000000
ADIP                              00000000
ADIPEN                            00000006
ADLTH                             00000F6A
ADLTH0                            00000000
ADLTH1                            00000001
ADLTH10                           00000002
ADLTH11                           00000003
ADLTH12                           00000004
ADLTH13                           00000005
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

ADLTH14                           00000006
ADLTH15                           00000007
ADLTH2                            00000002
ADLTH3                            00000003
ADLTH4                            00000004
ADLTH5                            00000005
ADLTH6                            00000006
ADLTH7                            00000007
ADLTH8                            00000000
ADLTH9                            00000001
ADLTHH                            00000F6B
ADLTHL                            00000F6A
ADLTHR                            00000005
ADMATH                            00000004
ADMD0                             00000000
ADMD1                             00000001
ADMD2                             00000002
ADMSK1                            00000001
ADMSK2                            00000002
ADMSK3                            00000003
ADMSK4                            00000004
ADMSK5                            00000005
ADNREF                            00000004
ADOEN                             00000002
ADON                              00000007
ADOR                              00000002
ADPCH                             00000F5F
ADPCH0                            00000000
ADPCH1                            00000001
ADPCH2                            00000002
ADPCH3                            00000003
ADPCH4                            00000004
ADPCH5                            00000005
ADPPOL                            00000007
ADPRE                             00000F5E
ADPRE0                            00000000
ADPRE1                            00000001
ADPRE2                            00000002
ADPRE3                            00000003
ADPRE4                            00000004
ADPRE5                            00000005
ADPRE6                            00000006
ADPRE7                            00000007
ADPREF0                           00000000
ADPREF1                           00000001
ADPREV                            00000F61
ADPREV0                           00000000
ADPREV1                           00000001
ADPREV10                          00000002
ADPREV11                          00000003
ADPREV12                          00000004
ADPREV13                          00000005
ADPREV14                          00000006
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 34


SYMBOL TABLE
  LABEL                             VALUE 

ADPREV15                          00000007
ADPREV2                           00000002
ADPREV3                           00000003
ADPREV4                           00000004
ADPREV5                           00000005
ADPREV6                           00000006
ADPREV7                           00000007
ADPREV8                           00000000
ADPREV9                           00000001
ADPREVH                           00000F62
ADPREVL                           00000F61
ADPSIS                            00000007
ADR0                              00000000
ADR1                              00000001
ADR2                              00000002
ADR3                              00000003
ADR4                              00000004
ADR5                              00000005
ADR6                              00000006
ADR7                              00000007
ADR8                              00000000
ADR9                              00000001
ADREF                             00000F58
ADRES                             00000F63
ADRES0                            00000000
ADRES1                            00000001
ADRES10                           00000002
ADRES11                           00000003
ADRES12                           00000004
ADRES13                           00000005
ADRES14                           00000006
ADRES15                           00000007
ADRES2                            00000002
ADRES3                            00000003
ADRES4                            00000004
ADRES5                            00000005
ADRES6                            00000006
ADRES7                            00000007
ADRES8                            00000000
ADRES9                            00000001
ADRESH                            00000F64
ADRESL                            00000F63
ADRPT                             00000F66
ADRPT0                            00000000
ADRPT1                            00000001
ADRPT2                            00000002
ADRPT3                            00000003
ADRPT4                            00000004
ADRPT5                            00000005
ADRPT6                            00000006
ADRPT7                            00000007
ADSOI                             00000003
ADSTAT                            00000F65
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 35


SYMBOL TABLE
  LABEL                             VALUE 

ADSTAT0                           00000000
ADSTAT1                           00000001
ADSTAT2                           00000002
ADSTPT                            00000F68
ADSTPT0                           00000000
ADSTPT1                           00000001
ADSTPT10                          00000002
ADSTPT11                          00000003
ADSTPT12                          00000004
ADSTPT13                          00000005
ADSTPT14                          00000006
ADSTPT15                          00000007
ADSTPT2                           00000002
ADSTPT3                           00000003
ADSTPT4                           00000004
ADSTPT5                           00000005
ADSTPT6                           00000006
ADSTPT7                           00000007
ADSTPT8                           00000000
ADSTPT9                           00000001
ADSTPTH                           00000F69
ADSTPTL                           00000F68
ADTIE                             00000001
ADTIF                             00000001
ADTIP                             00000001
ADTMD0                            00000000
ADTMD1                            00000001
ADTMD2                            00000002
ADUTH                             00000F6C
ADUTH0                            00000000
ADUTH1                            00000001
ADUTH10                           00000002
ADUTH11                           00000003
ADUTH12                           00000004
ADUTH13                           00000005
ADUTH14                           00000006
ADUTH15                           00000007
ADUTH2                            00000002
ADUTH3                            00000003
ADUTH4                            00000004
ADUTH5                            00000005
ADUTH6                            00000006
ADUTH7                            00000007
ADUTH8                            00000000
ADUTH9                            00000001
ADUTHH                            00000F6D
ADUTHL                            00000F6C
ADUTHR                            00000006
AHEN                              00000001
ANSELA                            00000F11
ANSELA0                           00000000
ANSELA1                           00000001
ANSELA2                           00000002
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 36


SYMBOL TABLE
  LABEL                             VALUE 

ANSELA3                           00000003
ANSELA4                           00000004
ANSELA5                           00000005
ANSELA6                           00000006
ANSELA7                           00000007
ANSELB                            00000F19
ANSELB0                           00000000
ANSELB1                           00000001
ANSELB2                           00000002
ANSELB3                           00000003
ANSELB4                           00000004
ANSELB5                           00000005
ANSELB6                           00000006
ANSELB7                           00000007
ANSELC                            00000F21
ANSELC0                           00000000
ANSELC1                           00000001
ANSELC2                           00000002
ANSELC3                           00000003
ANSELC4                           00000004
ANSELC5                           00000005
ANSELC6                           00000006
ANSELC7                           00000007
AS0E                              00000000
AS1E                              00000001
AS2E                              00000002
AS3E                              00000003
AS4E                              00000004
AS5E                              00000005
B1_TIME                           00000006
B2_TIME                           00000009
B3_TIME                           0000000C
B4_TIME                           0000000F
BANKED                            00000001
BAUD1CON                          00000F9F
BAUD2CON                          00000E9F
BAUDCON1                          00000F9F
BAUDCON2                          00000E9F
BAUDCTL1                          00000F9F
BAUDCTL2                          00000E9F
BBS                               FLAGS,4
BCL1IE                            00000001
BCL1IF                            00000001
BCL1IP                            00000001
BCL2IE                            00000003
BCL2IF                            00000003
BCL2IP                            00000003
BF                                00000000
BIT                               00000000
BOEN                              00000004
BOR                               00000000
BORCON                            00000EE0
BORRDY                            00000000
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 37


SYMBOL TABLE
  LABEL                             VALUE 

BRG16                             00000003
BRGH                              00000002
BSR                               00000FE0
BSR_TEMP                          00000002
BUSY                              00000005
B_1                               PWM_PINS+0,2
B_2                               PWM_PINS+1,6
B_3                               PWM_PINS+1,7
B_4                               PWM_PINS+0,3
B_COEF_POINT                      00000087
B_COUNT                           00000088
B_IN_POINT                        00000089
B_OUT_POINT                       0000008A
B_P0                              0000003B
B_P1                              0000003C
B_P2                              0000003D
B_P3                              0000003E
B_RINGBUFF                        0000008B
C                                 00000000
C0                                00000027
C0XP0                             0000001B
C1                                00000029
C1EN                              00000007
C1HYS                             00000001
C1IE                              00000000
C1IF                              00000000
C1INTN                            00000000
C1INTP                            00000001
C1IP                              00000000
C1NCH0                            00000000
C1NCH1                            00000001
C1NCH2                            00000002
C1OUT                             00000006
C1PCH0                            00000000
C1PCH1                            00000001
C1PCH2                            00000002
C1POL                             00000004
C1SYNC                            00000000
C1TSEL0                           00000000
C1TSEL1                           00000001
C1XP1                             0000001E
C2                                0000002B
C2EN                              00000007
C2HYS                             00000001
C2IE                              00000001
C2IF                              00000001
C2INTN                            00000000
C2INTP                            00000001
C2IP                              00000001
C2NCH0                            00000000
C2NCH1                            00000001
C2NCH2                            00000002
C2OUT                             00000006
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 38


SYMBOL TABLE
  LABEL                             VALUE 

C2PCH0                            00000000
C2PCH1                            00000001
C2PCH2                            00000002
C2POL                             00000004
C2SYNC                            00000000
C2TSEL0                           00000002
C2TSEL1                           00000003
C2XP2                             00000021
C3                                0000002D
C3XP3                             00000024
CANT_WRITE                        000003A6
CANT_WRITE_PWM                    000003C2
CCP1CAP                           00000FAD
CCP1CON                           00000FAC
CCP1CTS0                          00000000
CCP1CTS1                          00000001
CCP1EN                            00000007
CCP1FMT                           00000004
CCP1IE                            00000000
CCP1IF                            00000000
CCP1IP                            00000000
CCP1MD                            00000000
CCP1MODE0                         00000000
CCP1MODE1                         00000001
CCP1MODE2                         00000002
CCP1MODE3                         00000003
CCP1OUT                           00000005
CCP1PPS                           00000EAF
CCP1PPS0                          00000000
CCP1PPS1                          00000001
CCP1PPS2                          00000002
CCP1PPS3                          00000003
CCP1PPS4                          00000004
CCP2CAP                           00000FA9
CCP2CON                           00000FA8
CCP2CTS0                          00000000
CCP2CTS1                          00000001
CCP2EN                            00000007
CCP2FMT                           00000004
CCP2IE                            00000001
CCP2IF                            00000001
CCP2IP                            00000001
CCP2MD                            00000001
CCP2MODE0                         00000000
CCP2MODE1                         00000001
CCP2MODE2                         00000002
CCP2MODE3                         00000003
CCP2OUT                           00000005
CCP2PPS                           00000EB0
CCP2PPS0                          00000000
CCP2PPS1                          00000001
CCP2PPS2                          00000002
CCP2PPS3                          00000003
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 39


SYMBOL TABLE
  LABEL                             VALUE 

CCP2PPS4                          00000004
CCPR1                             00000FAA
CCPR1H                            00000FAB
CCPR1L                            00000FAA
CCPR2                             00000FA6
CCPR2H                            00000FA7
CCPR2L                            00000FA6
CCPTMRS                           00000FAE
CDAFVR0                           00000002
CDAFVR1                           00000003
CDIV0                             00000000
CDIV1                             00000001
CDIV2                             00000002
CDIV3                             00000003
CHPOL                             00000005
CHS0                              00000000
CHS1                              00000001
CHS2                              00000002
CHSYNC                            00000004
CKE                               00000006
CKP                               00000004
CKPOL                             00000006
CKPS0                             00000004
CKPS1                             00000005
CKPS2                             00000006
CKSYNC                            00000005
CLK0                              00000000
CLK1                              00000001
CLK2                              00000002
CLKRCLK                           00000F3F
CLKRCLK0                          00000000
CLKRCLK1                          00000001
CLKRCLK2                          00000002
CLKRCON                           00000F3E
CLKRDC0                           00000003
CLKRDC1                           00000004
CLKRDIV0                          00000000
CLKRDIV1                          00000001
CLKRDIV2                          00000002
CLKREN                            00000007
CLKRMD                            00000001
CLPOL                             00000001
CLS0                              00000000
CLS1                              00000001
CLS2                              00000002
CLSYNC                            00000000
CM1CON0                           00000F39
CM1CON1                           00000F3A
CM1NCH                            00000F3B
CM1PCH                            00000F3C
CM2CON0                           00000F35
CM2CON1                           00000F36
CM2NCH                            00000F37
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 40


SYMBOL TABLE
  LABEL                             VALUE 

CM2PCH                            00000F38
CMOUT                             00000F3D
CMP1MD                            00000001
CMP2MD                            00000002
COSC0                             00000004
COSC1                             00000005
COSC2                             00000006
CPUDOZE                           00000ED7
CRCACC                            00000F76
CRCACCH                           00000F77
CRCACCL                           00000F76
CRCCON0                           00000F7C
CRCCON1                           00000F7D
CRCDATA                           00000F74
CRCDATH                           00000F75
CRCDATL                           00000F74
CRCEN                             00000007
CRCGO                             00000006
CRCIE                             00000006
CRCIF                             00000006
CRCIP                             00000006
CRCMD                             00000004
CRCSHFT                           00000F78
CRCSHIFTH                         00000F79
CRCSHIFTL                         00000F78
CRCXOR                            00000F7A
CRCXORH                           00000F7B
CRCXORL                           00000F7A
CREN                              00000004
CS                                00000000
CS0                               00000000
CS1                               00000001
CS2                               00000002
CS3                               00000003
CSRC                              00000007
CSWHOLD                           00000007
CSWIE                             00000006
CSWIF                             00000006
CSWIP                             00000006
CTS0                              00000000
CTS1                              00000001
CUBIC_HERMITE                     00000272
CWG1AS0                           00000F46
CWG1AS1                           00000F47
CWG1CLK                           00000F40
CWG1CLKCON                        00000F40
CWG1CON0                          00000F44
CWG1CON1                          00000F45
CWG1CS                            00000000
CWG1DBF                           00000F43
CWG1DBF0                          00000000
CWG1DBF1                          00000001
CWG1DBF2                          00000002
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 41


SYMBOL TABLE
  LABEL                             VALUE 

CWG1DBF3                          00000003
CWG1DBF4                          00000004
CWG1DBF5                          00000005
CWG1DBR                           00000F42
CWG1DBR0                          00000000
CWG1DBR1                          00000001
CWG1DBR2                          00000002
CWG1DBR3                          00000003
CWG1DBR4                          00000004
CWG1DBR5                          00000005
CWG1EN                            00000007
CWG1IE                            00000000
CWG1IF                            00000000
CWG1IN                            00000005
CWG1INPPS0                        00000000
CWG1INPPS1                        00000001
CWG1INPPS2                        00000002
CWG1INPPS3                        00000003
CWG1INPPS4                        00000004
CWG1IP                            00000000
CWG1ISM                           00000F41
CWG1ISM0                          00000000
CWG1ISM1                          00000001
CWG1ISM2                          00000002
CWG1ISM3                          00000003
CWG1LD                            00000006
CWG1LSAC0                         00000002
CWG1LSAC1                         00000003
CWG1LSBD0                         00000004
CWG1LSBD1                         00000005
CWG1MD                            00000000
CWG1MODE0                         00000000
CWG1MODE1                         00000001
CWG1MODE2                         00000002
CWG1OVRA                          00000004
CWG1OVRB                          00000005
CWG1OVRC                          00000006
CWG1OVRD                          00000007
CWG1POLA                          00000000
CWG1POLB                          00000001
CWG1POLC                          00000002
CWG1POLD                          00000003
CWG1PPS                           00000EB1
CWG1REN                           00000006
CWG1SHUTDOWN                      00000007
CWG1STR                           00000F48
CWG1STRA                          00000000
CWG1STRB                          00000001
CWG1STRC                          00000002
CWG1STRD                          00000003
CWGIE                             00000000
CWGIF                             00000000
CWGINPPS                          00000EB1
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 42


SYMBOL TABLE
  LABEL                             VALUE 

CWGINPPS0                         00000000
CWGINPPS1                         00000001
CWGINPPS2                         00000002
CWGINPPS3                         00000003
CWGINPPS4                         00000004
CWGIP                             00000000
CWGMD                             00000000
DABORT                            00000004
DAC1CON0                          00000F33
DAC1CON1                          00000F34
DAC1EN                            00000007
DAC1NSS                           00000000
DAC1OE1                           00000005
DAC1OE2                           00000004
DAC1PSS0                          00000002
DAC1PSS1                          00000003
DAC1R0                            00000000
DAC1R1                            00000001
DAC1R2                            00000002
DAC1R3                            00000003
DAC1R4                            00000004
DACMD                             00000006
DATA0                             00000000
DATA1                             00000001
DATA10                            00000002
DATA11                            00000003
DATA12                            00000004
DATA13                            00000005
DATA14                            00000006
DATA15                            00000007
DATA2                             00000002
DATA3                             00000003
DATA4                             00000004
DATA5                             00000005
DATA6                             00000006
DATA7                             00000007
DATA8                             00000000
DATA9                             00000001
DATAEE                            00310000
DATA_ADDRESS                      00000005
DBF0                              00000000
DBF1                              00000001
DBF2                              00000002
DBF3                              00000003
DBF4                              00000004
DBF5                              00000005
DBR0                              00000000
DBR1                              00000001
DBR2                              00000002
DBR3                              00000003
DBR4                              00000004
DBR5                              00000005
DC                                00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 43


SYMBOL TABLE
  LABEL                             VALUE 

DC0_CLKRCON                       00000003
DC0_PWM3DCL                       00000006
DC0_PWM4DCL                       00000006
DC1_CLKRCON                       00000004
DC1_PWM3DCL                       00000007
DC1_PWM4DCL                       00000007
DC2                               00000000
DC3                               00000001
DC4                               00000002
DC5                               00000003
DC6                               00000004
DC7                               00000005
DC8                               00000006
DC9                               00000007
DDRA                              TRISA
DDRB                              TRISB
DDRC                              TRISC
DDRD                              TRISD
DDRE                              TRISE
DHEN                              00000000
DIV0                              00000000
DIV1                              00000001
DIV2                              00000002
DLEN0                             00000004
DLEN1                             00000005
DLEN2                             00000006
DLEN3                             00000007
DOE                               00000004
DONE                              00000000
DOZE0                             00000000
DOZE1                             00000001
DOZE2                             00000002
DOZEN                             00000006
DSMMD                             00000000
DUMMY_TIME                        00000010
D_A                               00000005
D_NOT_A                           00000005
EERDWT                            FLAGS,1
EE_ADDRESS                        00000019
EE_LENGTH                         0000001A
EE_READ                           00000454
EN                                00000007
END_INT                           0000003A
EXTOEN                            00000007
EXTOR                             00000007
FAILURE                           -1
FALSE                             -1
FAST                              00000001
FERR                              00000002
FILL_BUFFER                       00000260
FINISH_READ_B                     0000044E
FINISH_READ_G                     0000042A
FINISH_READ_PWM                   000003E2
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 44


SYMBOL TABLE
  LABEL                             VALUE 

FINISH_READ_R                     00000406
FLAGS                             00000003
FMT                               00000004
FREE                              00000004
FRQ0                              00000000
FRQ1                              00000001
FRQ2                              00000002
FRQ3                              00000003
FSR0                              00000000
FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1                              00000001
FSR1H                             00000FE2
FSR1L                             00000FE1
FSR2                              00000002
FSR2H                             00000FDA
FSR2L                             00000FD9
FULL                              00000000
FVRCON                            00000F31
FVREN                             00000007
FVRMD                             00000006
FVRRDY                            00000006
G1EN                              00000007
G1_TIME                           00000005
G2_TIME                           00000008
G3_TIME                           0000000B
G4_TIME                           0000000E
GBS                               FLAGS,3
GCEN                              00000007
GE                                00000007
GEN_LOOP                          00000264
GEN_RANDOM                        00000470
GET_COEF                          0000033C
GGO_NOT_DONE                      00000003
GIE                               00000007
GIEH                              00000007
GIEL                              00000006
GIE_GIEH                          00000007
GO_ADCON0                         00000000
GO_NOT_DONE                       00000000
GO_SCANCON0                       00000006
GPOL                              00000006
GSPM                              00000004
GSS0                              00000000
GSS1                              00000001
GSS2                              00000002
GSS3                              00000003
GTM                               00000005
GVAL                              00000002
G_1                               PWM_PINS+0,1
G_2                               PWM_PINS+1,5
G_3                               PWM_PINS+0,7
G_4                               PWM_PINS+0,4
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 45


SYMBOL TABLE
  LABEL                             VALUE 

G_COEF_POINT                      00000073
G_COUNT                           00000074
G_IN_POINT                        00000075
G_OUT_POINT                       00000076
G_P0                              00000037
G_P1                              00000038
G_P2                              00000039
G_P3                              0000003A
G_RINGBUFF                        00000077
HADR0                             00000000
HADR1                             00000001
HADR10                            00000002
HADR11                            00000003
HADR12                            00000004
HADR13                            00000005
HADR14                            00000006
HADR15                            00000007
HADR16                            00000000
HADR17                            00000001
HADR18                            00000002
HADR19                            00000003
HADR2                             00000002
HADR20                            00000004
HADR21                            00000005
HADR3                             00000003
HADR4                             00000004
HADR5                             00000005
HADR6                             00000006
HADR7                             00000007
HADR8                             00000000
HADR9                             00000001
HFOEN                             00000006
HFOR                              00000006
HLVDCON0                          00000F2F
HLVDCON1                          00000F30
HLVDEN                            00000007
HLVDIE                            00000007
HLVDIF                            00000007
HLVDINTH                          00000001
HLVDINTL                          00000000
HLVDIP                            00000007
HLVDMD                            00000005
HLVDOUT                           00000005
HLVDRDY                           00000004
HLVDSEL0                          00000000
HLVDSEL1                          00000001
HLVDSEL2                          00000002
HLVDSEL3                          00000003
HYS                               00000001
I2C_DAT                           00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 46


SYMBOL TABLE
  LABEL                             VALUE 

IDLEN                             00000007
IN                                00000005
INDF0                             00000FEF
INDF1                             00000FE7
INDF2                             00000FDF
INLVLA                            00000F0D
INLVLA0                           00000000
INLVLA1                           00000001
INLVLA2                           00000002
INLVLA3                           00000003
INLVLA4                           00000004
INLVLA5                           00000005
INLVLA6                           00000006
INLVLA7                           00000007
INLVLB                            00000F15
INLVLB0                           00000000
INLVLB1                           00000001
INLVLB2                           00000002
INLVLB3                           00000003
INLVLB4                           00000004
INLVLB5                           00000005
INLVLB6                           00000006
INLVLB7                           00000007
INLVLC                            00000F1D
INLVLC0                           00000000
INLVLC1                           00000001
INLVLC2                           00000002
INLVLC3                           00000003
INLVLC4                           00000004
INLVLC5                           00000005
INLVLC6                           00000006
INLVLC7                           00000007
INLVLE                            00000F2A
INLVLE3                           00000003
INT0EDG                           00000000
INT0IE                            00000000
INT0IF                            00000000
INT0IP                            00000000
INT0PPS                           00000EA1
INT0PPS0                          00000000
INT0PPS1                          00000001
INT0PPS2                          00000002
INT0PPS3                          00000003
INT0PPS4                          00000004
INT1EDG                           00000001
INT1IE                            00000001
INT1IF                            00000001
INT1IP                            00000001
INT1PPS                           00000EA2
INT1PPS0                          00000000
INT1PPS1                          00000001
INT1PPS2                          00000002
INT1PPS3                          00000003
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 47


SYMBOL TABLE
  LABEL                             VALUE 

INT1PPS4                          00000004
INT2EDG                           00000002
INT2IE                            00000002
INT2IF                            00000002
INT2IP                            00000002
INT2PPS                           00000EA3
INT2PPS0                          00000000
INT2PPS1                          00000001
INT2PPS2                          00000002
INT2PPS3                          00000003
INT2PPS4                          00000004
INTCON                            00000FF2
INTH                              00000001
INTL                              00000000
INTM                              00000003
INTN                              00000000
INTP                              00000001
INVALID                           00000004
IOCAF                             00000F0A
IOCAF0                            00000000
IOCAF1                            00000001
IOCAF2                            00000002
IOCAF3                            00000003
IOCAF4                            00000004
IOCAF5                            00000005
IOCAF6                            00000006
IOCAF7                            00000007
IOCAN                             00000F0B
IOCAN0                            00000000
IOCAN1                            00000001
IOCAN2                            00000002
IOCAN3                            00000003
IOCAN4                            00000004
IOCAN5                            00000005
IOCAN6                            00000006
IOCAN7                            00000007
IOCAP                             00000F0C
IOCAP0                            00000000
IOCAP1                            00000001
IOCAP2                            00000002
IOCAP3                            00000003
IOCAP4                            00000004
IOCAP5                            00000005
IOCAP6                            00000006
IOCAP7                            00000007
IOCBF                             00000F12
IOCBF0                            00000000
IOCBF1                            00000001
IOCBF2                            00000002
IOCBF3                            00000003
IOCBF4                            00000004
IOCBF5                            00000005
IOCBF6                            00000006
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 48


SYMBOL TABLE
  LABEL                             VALUE 

IOCBF7                            00000007
IOCBN                             00000F13
IOCBN0                            00000000
IOCBN1                            00000001
IOCBN2                            00000002
IOCBN3                            00000003
IOCBN4                            00000004
IOCBN5                            00000005
IOCBN6                            00000006
IOCBN7                            00000007
IOCBP                             00000F14
IOCBP0                            00000000
IOCBP1                            00000001
IOCBP2                            00000002
IOCBP3                            00000003
IOCBP4                            00000004
IOCBP5                            00000005
IOCBP6                            00000006
IOCBP7                            00000007
IOCCF                             00000F1A
IOCCF0                            00000000
IOCCF1                            00000001
IOCCF2                            00000002
IOCCF3                            00000003
IOCCF4                            00000004
IOCCF5                            00000005
IOCCF6                            00000006
IOCCF7                            00000007
IOCCN                             00000F1B
IOCCN0                            00000000
IOCCN1                            00000001
IOCCN2                            00000002
IOCCN3                            00000003
IOCCN4                            00000004
IOCCN5                            00000005
IOCCN6                            00000006
IOCCN7                            00000007
IOCCP                             00000F1C
IOCCP0                            00000000
IOCCP1                            00000001
IOCCP2                            00000002
IOCCP3                            00000003
IOCCP4                            00000004
IOCCP5                            00000005
IOCCP6                            00000006
IOCCP7                            00000007
IOCEF                             00000F27
IOCEF3                            00000003
IOCEN                             00000F28
IOCEN3                            00000003
IOCEP                             00000F29
IOCEP3                            00000003
IOCIE                             00000004
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 49


SYMBOL TABLE
  LABEL                             VALUE 

IOCIF                             00000004
IOCIP                             00000004
IOCMD                             00000000
IPEN                              00000005
IPR0                              00000EBA
IPR1                              00000EBB
IPR2                              00000EBC
IPR3                              00000EBD
IPR4                              00000EBE
IPR5                              00000EBF
IPR6                              00000EC0
IPR7                              00000EC1
ISRH                              00000008
ISRL                              00000018
ITTERATE                          00000294
LADR0                             00000000
LADR1                             00000001
LADR10                            00000002
LADR11                            00000003
LADR12                            00000004
LADR13                            00000005
LADR14                            00000006
LADR15                            00000007
LADR16                            00000000
LADR17                            00000001
LADR18                            00000002
LADR19                            00000003
LADR2                             00000002
LADR20                            00000004
LADR21                            00000005
LADR3                             00000003
LADR4                             00000004
LADR5                             00000005
LADR6                             00000006
LADR7                             00000007
LADR8                             00000000
LADR9                             00000001
LATA                              00000F83
LATA0                             00000000
LATA1                             00000001
LATA2                             00000002
LATA3                             00000003
LATA4                             00000004
LATA5                             00000005
LATA6                             00000006
LATA7                             00000007
LATB                              00000F84
LATB0                             00000000
LATB1                             00000001
LATB2                             00000002
LATB3                             00000003
LATB4                             00000004
LATB5                             00000005
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 50


SYMBOL TABLE
  LABEL                             VALUE 

LATB6                             00000006
LATB7                             00000007
LATC                              00000F85
LATC0                             00000000
LATC1                             00000001
LATC2                             00000002
LATC3                             00000003
LATC4                             00000004
LATC5                             00000005
LATC6                             00000006
LATC7                             00000007
LD                                00000006
LFOEN                             00000004
LFOR                              00000004
LFSR_01                           00000013
LFSR_02                           00000014
LFSR_03                           00000015
LFSR_04                           00000016
LFSR_05                           00000017
LOW_ISR                           0000001C
LSAC0                             00000002
LSAC1                             00000003
LSBD0                             00000004
LSBD1                             00000005
MAIN                              000000C0
MC1OUT                            00000000
MC2OUT                            00000001
MDBIT                             00000000
MDCARH                            00000F55
MDCARHPPS                         00000EB3
MDCARHPPS0                        00000000
MDCARHPPS1                        00000001
MDCARHPPS2                        00000002
MDCARHPPS3                        00000003
MDCARHPPS4                        00000004
MDCARL                            00000F54
MDCARLPPS                         00000EB2
MDCARLPPS0                        00000000
MDCARLPPS1                        00000001
MDCARLPPS2                        00000002
MDCARLPPS3                        00000003
MDCARLPPS4                        00000004
MDCHPOL                           00000005
MDCHS0                            00000000
MDCHS1                            00000001
MDCHS2                            00000002
MDCHSYNC                          00000004
MDCLPOL                           00000001
MDCLS0                            00000000
MDCLS1                            00000001
MDCLS2                            00000002
MDCLSYNC                          00000000
MDCON0                            00000F51
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 51


SYMBOL TABLE
  LABEL                             VALUE 

MDCON1                            00000F52
MDEN                              00000007
MDOPOL                            00000004
MDOUT                             00000005
MDSRC                             00000F53
MDSRCPPS                          00000EB4
MDSRCPPS0                         00000000
MDSRCPPS1                         00000001
MDSRCPPS2                         00000002
MDSRCPPS3                         00000003
MDSRCPPS4                         00000004
MDSRCS0                           00000000
MDSRCS1                           00000001
MDSRCS2                           00000002
MDSRCS3                           00000003
MFOEN                             00000005
MFOR                              00000005
MODE0                             00000000
MODE1                             00000001
MODE2                             00000002
MODE3                             00000003
MODE4                             00000004
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
MSSP1MD                           00000004
MSSP2MD                           00000005
N                                 00000004
NCH0                              00000000
NCH1                              00000001
NCH2                              00000002
NDIV0                             00000000
NDIV1                             00000001
NDIV2                             00000002
NDIV3                             00000003
NO                                0
NOSC0                             00000004
NOSC1                             00000005
NOSC2                             00000006
NOSCR                             00000003
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BOR                           00000000
NOT_PD                            00000005
NOT_POR                           00000001
NOT_RI                            00000002
NOT_RMCLR                         00000003
NOT_RWDT                          00000004
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 52


SYMBOL TABLE
  LABEL                             VALUE 

NOT_SYNC                          00000002
NOT_T1SYNC                        00000002
NOT_T3SYNC                        00000002
NOT_T5SYNC                        00000002
NOT_TO                            00000006
NOT_W                             00000002
NOT_WDTWV                         00000005
NOT_WRITE                         00000002
NSS                               00000000
NVCFG0                            00000000
NVCFG1                            00000001
NVMADR                            00000F7E
NVMADR0                           00000000
NVMADR1                           00000001
NVMADR2                           00000002
NVMADR3                           00000003
NVMADR4                           00000004
NVMADR5                           00000005
NVMADR6                           00000006
NVMADR7                           00000007
NVMADR8                           00000000
NVMADR9                           00000001
NVMADRH                           00000F7F
NVMADRL                           00000F7E
NVMCON1                           00000F81
NVMCON2                           00000F82
NVMDAT                            00000F80
NVMDAT0                           00000000
NVMDAT1                           00000001
NVMDAT2                           00000002
NVMDAT3                           00000003
NVMDAT4                           00000004
NVMDAT5                           00000005
NVMDAT6                           00000006
NVMDAT7                           00000007
NVMIE                             00000005
NVMIF                             00000005
NVMIP                             00000005
NVMMD                             00000002
NVMREG0                           00000006
NVMREG1                           00000007
ODCA0                             00000000
ODCA1                             00000001
ODCA2                             00000002
ODCA3                             00000003
ODCA4                             00000004
ODCA5                             00000005
ODCA6                             00000006
ODCA7                             00000007
ODCB0                             00000000
ODCB1                             00000001
ODCB2                             00000002
ODCB3                             00000003
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 53


SYMBOL TABLE
  LABEL                             VALUE 

ODCB4                             00000004
ODCB5                             00000005
ODCB6                             00000006
ODCB7                             00000007
ODCC0                             00000000
ODCC1                             00000001
ODCC2                             00000002
ODCC3                             00000003
ODCC4                             00000004
ODCC5                             00000005
ODCC6                             00000006
ODCC7                             00000007
ODCONA                            00000F0F
ODCONB                            00000F17
ODCONC                            00000F1F
OE1                               00000005
OE2                               00000004
OERR                              00000001
ON_T1CON                          00000000
ON_T2CON                          00000007
ON_T3CON                          00000000
ON_T4CON                          00000007
ON_T5CON                          00000000
ON_T6CON                          00000007
OPOL                              00000004
ORDY                              00000004
OSCCON1                           00000ED8
OSCCON2                           00000ED9
OSCCON3                           00000EDA
OSCEN                             00000EDC
OSCFIE                            00000007
OSCFIF                            00000007
OSCFIP                            00000007
OSCFRQ                            00000EDE
OSCSTAT                           00000EDB
OSCSTAT1                          00000EDB
OSCTUNE                           00000EDD
OUTPS0                            00000000
OUTPS1                            00000001
OUTPS2                            00000002
OUTPS3                            00000003
OUT_CCP1CON                       00000005
OUT_CCP2CON                       00000005
OUT_CM1CON0                       00000006
OUT_CM2CON0                       00000006
OUT_HLVDCON0                      00000005
OUT_MDCON0                        00000005
OUT_PWM3CON                       00000005
OUT_PWM4CON                       00000005
OUT_ZCDCON                        00000005
OV                                00000003
OVRA                              00000004
OVRB                              00000005
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 54


SYMBOL TABLE
  LABEL                             VALUE 

OVRC                              00000006
OVRD                              00000007
P                                 00000004
P0                                0000002F
P1                                00000030
P2                                00000031
P3                                00000032
P3TSEL0                           00000004
P3TSEL1                           00000005
P4TSEL0                           00000006
P4TSEL1                           00000007
PC                                00000FF9
PCH0                              00000000
PCH1                              00000001
PCH2                              00000002
PCIE                              00000006
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
PCON0                             00000FD7
PD                                00000005
PEIE                              00000006
PEIE_GIEL                         00000006
PEN                               00000002
PIE0                              00000EC2
PIE1                              00000EC3
PIE2                              00000EC4
PIE3                              00000EC5
PIE4                              00000EC6
PIE5                              00000EC7
PIE6                              00000EC8
PIE7                              00000EC9
PIR0                              00000ECA
PIR1                              00000ECB
PIR2                              00000ECC
PIR3                              00000ECD
PIR4                              00000ECE
PIR5                              00000ECF
PIR6                              00000ED0
PIR7                              00000ED1
PLEN0                             00000000
PLEN1                             00000001
PLEN2                             00000002
PLEN3                             00000003
PLLR                              00000000
PLUSW0                            00000FEB
PLUSW1                            00000FE3
PLUSW2                            00000FDB
PMD0                              00000EE1
PMD1                              00000EE2
PMD2                              00000EE3
PMD3                              00000EE4
PMD4                              00000EE5
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 55


SYMBOL TABLE
  LABEL                             VALUE 

PMD5                              00000EE6
POL                               00000004
POLA                              00000000
POLB                              00000001
POLC                              00000002
POLD                              00000003
POR                               00000001
PORTA                             00000F8D
PORTB                             00000F8E
PORTC                             00000F8F
PORTE                             00000F91
POSTDEC0                          00000FED
POSTDEC1                          00000FE5
POSTDEC2                          00000FDD
POSTINC0                          00000FEE
POSTINC1                          00000FE6
POSTINC2                          00000FDE
PPSLOCK                           00000EA0
PPSLOCKED                         00000000
PR0                               00000FD4
PR1                               00000FD0
PR2                               00000FBC
PR3                               00000FCA
PR4                               00000FB6
PR5                               00000FC4
PR6                               00000FB0
PREINC0                           00000FEC
PREINC1                           00000FE4
PREINC2                           00000FDC
PROD                              00000FF3
PRODH                             00000FF4
PRODL                             00000FF3
PSCNT0                            00000000
PSCNT1                            00000001
PSCNT10                           00000002
PSCNT11                           00000003
PSCNT12                           00000004
PSCNT13                           00000005
PSCNT14                           00000006
PSCNT15                           00000007
PSCNT16                           00000000
PSCNT17                           00000001
PSCNT2                            00000002
PSCNT3                            00000003
PSCNT4                            00000004
PSCNT5                            00000005
PSCNT6                            00000006
PSCNT7                            00000007
PSCNT8                            00000000
PSCNT9                            00000001
PSS0                              00000002
PSS1                              00000003
PSYNC                             00000007
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 56


SYMBOL TABLE
  LABEL                             VALUE 

PVCFG0                            00000002
PVCFG1                            00000003
PWM3CON                           00000FA5
PWM3DC0                           00000006
PWM3DC1                           00000007
PWM3DC2                           00000000
PWM3DC3                           00000001
PWM3DC4                           00000002
PWM3DC5                           00000003
PWM3DC6                           00000004
PWM3DC7                           00000005
PWM3DC8                           00000006
PWM3DC9                           00000007
PWM3DCH                           00000FA4
PWM3DCL                           00000FA3
PWM3EN                            00000007
PWM3MD                            00000002
PWM3OUT                           00000005
PWM3POL                           00000004
PWM4CON                           00000FA2
PWM4DC0                           00000006
PWM4DC1                           00000007
PWM4DC2                           00000000
PWM4DC3                           00000001
PWM4DC4                           00000002
PWM4DC5                           00000003
PWM4DC6                           00000004
PWM4DC7                           00000005
PWM4DC8                           00000006
PWM4DC9                           00000007
PWM4DCH                           00000FA1
PWM4DCL                           00000FA0
PWM4EN                            00000007
PWM4MD                            00000003
PWM4OUT                           00000005
PWM4POL                           00000004
PWMPW0                            00000006
PWMPW1                            00000007
PWMPW2                            00000000
PWMPW3                            00000001
PWMPW4                            00000002
PWMPW5                            00000003
PWMPW6                            00000004
PWMPW7                            00000005
PWMPW8                            00000006
PWMPW9                            00000007
PWM_COUNT                         00000044
PWM_IN_POINT                      00000045
PWM_OUT_POINT                     00000046
PWM_PINS                          00000011
PWM_RINGBUFF                      00000047
PWM_RLD                           FLAGS,0
R1_TIME                           00000004
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 57


SYMBOL TABLE
  LABEL                             VALUE 

R2_TIME                           00000007
R3_TIME                           0000000A
R4_TIME                           0000000D
RA0                               00000000
RA0PPS                            00000EE7
RA0PPS0                           00000000
RA0PPS1                           00000001
RA0PPS2                           00000002
RA0PPS3                           00000003
RA0PPS4                           00000004
RA1                               00000001
RA1PPS                            00000EE8
RA1PPS0                           00000000
RA1PPS1                           00000001
RA1PPS2                           00000002
RA1PPS3                           00000003
RA1PPS4                           00000004
RA2                               00000002
RA2PPS                            00000EE9
RA2PPS0                           00000000
RA2PPS1                           00000001
RA2PPS2                           00000002
RA2PPS3                           00000003
RA2PPS4                           00000004
RA3                               00000003
RA3PPS                            00000EEA
RA3PPS0                           00000000
RA3PPS1                           00000001
RA3PPS2                           00000002
RA3PPS3                           00000003
RA3PPS4                           00000004
RA4                               00000004
RA4PPS                            00000EEB
RA4PPS0                           00000000
RA4PPS1                           00000001
RA4PPS2                           00000002
RA4PPS3                           00000003
RA4PPS4                           00000004
RA5                               00000005
RA5PPS                            00000EEC
RA5PPS0                           00000000
RA5PPS1                           00000001
RA5PPS2                           00000002
RA5PPS3                           00000003
RA5PPS4                           00000004
RA6                               00000006
RA6PPS                            00000EED
RA6PPS0                           00000000
RA6PPS1                           00000001
RA6PPS2                           00000002
RA6PPS3                           00000003
RA6PPS4                           00000004
RA7                               00000007
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 58


SYMBOL TABLE
  LABEL                             VALUE 

RA7PPS                            00000EEE
RA7PPS0                           00000000
RA7PPS1                           00000001
RA7PPS2                           00000002
RA7PPS3                           00000003
RA7PPS4                           00000004
RAND                              00000018
RB0                               00000000
RB0PPS                            00000EEF
RB0PPS0                           00000000
RB0PPS1                           00000001
RB0PPS2                           00000002
RB0PPS3                           00000003
RB0PPS4                           00000004
RB1                               00000001
RB1PPS                            00000EF0
RB1PPS0                           00000000
RB1PPS1                           00000001
RB1PPS2                           00000002
RB1PPS3                           00000003
RB1PPS4                           00000004
RB2                               00000002
RB2PPS                            00000EF1
RB2PPS0                           00000000
RB2PPS1                           00000001
RB2PPS2                           00000002
RB2PPS3                           00000003
RB2PPS4                           00000004
RB3                               00000003
RB3PPS                            00000EF2
RB3PPS0                           00000000
RB3PPS1                           00000001
RB3PPS2                           00000002
RB3PPS3                           00000003
RB3PPS4                           00000004
RB4                               00000004
RB4PPS                            00000EF3
RB4PPS0                           00000000
RB4PPS1                           00000001
RB4PPS2                           00000002
RB4PPS3                           00000003
RB4PPS4                           00000004
RB5                               00000005
RB5PPS                            00000EF4
RB5PPS0                           00000000
RB5PPS1                           00000001
RB5PPS2                           00000002
RB5PPS3                           00000003
RB5PPS4                           00000004
RB6                               00000006
RB6PPS                            00000EF5
RB6PPS0                           00000000
RB6PPS1                           00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 59


SYMBOL TABLE
  LABEL                             VALUE 

RB6PPS2                           00000002
RB6PPS3                           00000003
RB6PPS4                           00000004
RB7                               00000007
RB7PPS                            00000EF6
RB7PPS0                           00000000
RB7PPS1                           00000001
RB7PPS2                           00000002
RB7PPS3                           00000003
RB7PPS4                           00000004
RBS                               FLAGS,2
RC0                               00000000
RC0PPS                            00000EF7
RC0PPS0                           00000000
RC0PPS1                           00000001
RC0PPS2                           00000002
RC0PPS3                           00000003
RC0PPS4                           00000004
RC1                               00000001
RC1IE                             00000005
RC1IF                             00000005
RC1IP                             00000005
RC1PPS                            00000EF8
RC1PPS0                           00000000
RC1PPS1                           00000001
RC1PPS2                           00000002
RC1PPS3                           00000003
RC1PPS4                           00000004
RC1REG                            00000F99
RC1STA                            00000F9D
RC2                               00000002
RC2IE                             00000007
RC2IF                             00000007
RC2IP                             00000007
RC2PPS                            00000EF9
RC2PPS0                           00000000
RC2PPS1                           00000001
RC2PPS2                           00000002
RC2PPS3                           00000003
RC2PPS4                           00000004
RC2REG                            00000E99
RC2STA                            00000E9D
RC3                               00000003
RC3PPS                            00000EFA
RC3PPS0                           00000000
RC3PPS1                           00000001
RC3PPS2                           00000002
RC3PPS3                           00000003
RC3PPS4                           00000004
RC4                               00000004
RC4PPS                            00000EFB
RC4PPS0                           00000000
RC4PPS1                           00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 60


SYMBOL TABLE
  LABEL                             VALUE 

RC4PPS2                           00000002
RC4PPS3                           00000003
RC4PPS4                           00000004
RC5                               00000005
RC5PPS                            00000EFC
RC5PPS0                           00000000
RC5PPS1                           00000001
RC5PPS2                           00000002
RC5PPS3                           00000003
RC5PPS4                           00000004
RC6                               00000006
RC6PPS                            00000EFD
RC6PPS0                           00000000
RC6PPS1                           00000001
RC6PPS2                           00000002
RC6PPS3                           00000003
RC6PPS4                           00000004
RC7                               00000007
RC7PPS                            00000EFE
RC7PPS0                           00000000
RC7PPS1                           00000001
RC7PPS2                           00000002
RC7PPS3                           00000003
RC7PPS4                           00000004
RCEN                              00000003
RCIDL                             00000006
RCREG1                            00000F99
RCREG2                            00000E99
RCSTA1                            00000F9D
RCSTA2                            00000E9D
RD                                00000000
RD16                              00000001
RDY_FVRCON                        00000006
RDY_HLVDCON0                      00000004
RE3                               00000003
READ_BUFFER_B                     00000430
READ_BUFFER_G                     0000040C
READ_BUFFER_PWM                   000003C4
READ_BUFFER_R                     000003E8
READ_B_ERROR                      00000452
READ_G_ERROR                      0000042E
READ_PWM_ERROR                    000003E6
READ_R_ERROR                      0000040A
READ_WRITE                        00000002
REN                               00000006
RES_VECT                          00000000
RI                                00000002
RMCLR                             00000003
ROI                               00000005
RSEL0                             00000000
RSEL1                             00000001
RSEL2                             00000002
RSEL3                             00000003
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 61


SYMBOL TABLE
  LABEL                             VALUE 

RSEN                              00000001
RWDT                              00000004
RX1PPS                            00000EB5
RX2PPS                            00000E8D
RX9                               00000006
RX9D                              00000000
R_1                               PWM_PINS+0,0
R_2                               PWM_PINS+1,4
R_3                               PWM_PINS+0,6
R_4                               PWM_PINS+0,5
R_COEF_POINT                      0000005F
R_COUNT                           00000060
R_IN_POINT                        00000061
R_NOT_W                           00000002
R_OUT_POINT                       00000062
R_P0                              00000033
R_P1                              00000034
R_P2                              00000035
R_P3                              00000036
R_RINGBUFF                        00000063
R_W                               00000002
S                                 00000003
SBCDE                             00000002
SBOREN                            00000007
SCANBUSY                          00000005
SCANCON0                          00000F4F
SCANEN                            00000007
SCANGO                            00000006
SCANHADR                          00000F4C
SCANHADR0                         00000000
SCANHADR1                         00000001
SCANHADR10                        00000002
SCANHADR11                        00000003
SCANHADR12                        00000004
SCANHADR13                        00000005
SCANHADR14                        00000006
SCANHADR15                        00000007
SCANHADR16                        00000000
SCANHADR17                        00000001
SCANHADR18                        00000002
SCANHADR19                        00000003
SCANHADR2                         00000002
SCANHADR20                        00000004
SCANHADR21                        00000005
SCANHADR3                         00000003
SCANHADR4                         00000004
SCANHADR5                         00000005
SCANHADR6                         00000006
SCANHADR7                         00000007
SCANHADR8                         00000000
SCANHADR9                         00000001
SCANHADRH                         00000F4D
SCANHADRL                         00000F4C
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 62


SYMBOL TABLE
  LABEL                             VALUE 

SCANHADRU                         00000F4E
SCANIE                            00000007
SCANIF                            00000007
SCANINTM                          00000003
SCANINVALID                       00000004
SCANIP                            00000007
SCANLADR                          00000F49
SCANLADR0                         00000000
SCANLADR1                         00000001
SCANLADR10                        00000002
SCANLADR11                        00000003
SCANLADR12                        00000004
SCANLADR13                        00000005
SCANLADR14                        00000006
SCANLADR15                        00000007
SCANLADR16                        00000000
SCANLADR17                        00000001
SCANLADR18                        00000002
SCANLADR19                        00000003
SCANLADR2                         00000002
SCANLADR20                        00000004
SCANLADR21                        00000005
SCANLADR3                         00000003
SCANLADR4                         00000004
SCANLADR5                         00000005
SCANLADR6                         00000006
SCANLADR7                         00000007
SCANLADR8                         00000000
SCANLADR9                         00000001
SCANLADRH                         00000F4A
SCANLADRL                         00000F49
SCANLADRU                         00000F4B
SCANMD                            00000003
SCANMODE0                         00000000
SCANMODE1                         00000001
SCANTRIG                          00000F50
SCANTSEL0                         00000000
SCANTSEL1                         00000001
SCANTSEL2                         00000002
SCANTSEL3                         00000003
SCIE                              00000005
SCKP                              00000004
SDAHT                             00000003
SEL0                              00000000
SEL1                              00000001
SEL2                              00000002
SEL3                              00000003
SENDB                             00000003
SEN_SSP1CON2                      00000000
SEN_SSP2CON2                      00000000
SEN_WDTCON0                       00000000
SEN_ZCDCON                        00000007
SHFT0                             00000000
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 63


SYMBOL TABLE
  LABEL                             VALUE 

SHFT1                             00000001
SHFT10                            00000002
SHFT11                            00000003
SHFT12                            00000004
SHFT13                            00000005
SHFT14                            00000006
SHFT15                            00000007
SHFT2                             00000002
SHFT3                             00000003
SHFT4                             00000004
SHFT5                             00000005
SHFT6                             00000006
SHFT7                             00000007
SHFT8                             00000000
SHFT9                             00000001
SHIFTM                            00000001
SHUTDOWN                          00000007
SLRA0                             00000000
SLRA1                             00000001
SLRA2                             00000002
SLRA3                             00000003
SLRA4                             00000004
SLRA5                             00000005
SLRA6                             00000006
SLRA7                             00000007
SLRB0                             00000000
SLRB1                             00000001
SLRB2                             00000002
SLRB3                             00000003
SLRB4                             00000004
SLRB5                             00000005
SLRB6                             00000006
SLRB7                             00000007
SLRC0                             00000000
SLRC1                             00000001
SLRC2                             00000002
SLRC3                             00000003
SLRC4                             00000004
SLRC5                             00000005
SLRC6                             00000006
SLRC7                             00000007
SLRCONA                           00000F0E
SLRCONB                           00000F16
SLRCONC                           00000F1E
SMP                               00000007
SOR                               00000003
SOSCEN                            00000003
SOSCPWR                           00000006
SP0                               00000000
SP1                               00000001
SP1BRG                            00000F9B
SP1BRGH                           00000F9C
SP1BRGL                           00000F9B
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 64


SYMBOL TABLE
  LABEL                             VALUE 

SP2                               00000002
SP2BRG                            00000E9B
SP2BRGH                           00000E9C
SP2BRGL                           00000E9B
SP3                               00000003
SP4                               00000004
SP5                               00000005
SPBRG1                            00000F9B
SPBRG2                            00000E9B
SPBRGH1                           00000F9C
SPBRGH2                           00000E9C
SPEN                              00000007
SRCS0                             00000000
SRCS1                             00000001
SRCS2                             00000002
SRCS3                             00000003
SREN                              00000005
SSP1ADD                           00000F93
SSP1BUF                           00000F92
SSP1CLKPPS                        00000EB7
SSP1CON1                          00000F96
SSP1CON2                          00000F97
SSP1CON3                          00000F98
SSP1DATPPS                        00000EB8
SSP1IE                            00000000
SSP1IF                            00000000
SSP1IP                            00000000
SSP1MSK                           00000F94
SSP1SSPPS                         00000EB9
SSP1STAT                          00000F95
SSP2ADD                           00000E93
SSP2BUF                           00000E92
SSP2CLKPPS                        00000E8F
SSP2CON1                          00000E96
SSP2CON2                          00000E97
SSP2CON3                          00000E98
SSP2DATPPS                        00000E90
SSP2IE                            00000002
SSP2IF                            00000002
SSP2IP                            00000002
SSP2MSK                           00000E94
SSP2SSPPS                         00000E91
SSP2STAT                          00000E95
SSPEN                             00000005
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
START                             00000046
STATE                             00000002
STATUS                            00000FD8
STATUS_TEMP                       00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 65


SYMBOL TABLE
  LABEL                             VALUE 

STKOVF                            00000007
STKPTR                            00000FFC
STKPTR0                           00000000
STKPTR1                           00000001
STKPTR2                           00000002
STKPTR3                           00000003
STKPTR4                           00000004
STKPTR5                           00000005
STKUNF                            00000006
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
SUCCESS                           1
SWDTEN                            00000000
SYNC_CM1CON0                      00000000
SYNC_CM2CON0                      00000000
SYNC_TX1STA                       00000004
SYNC_TX2STA                       00000004
SYNC_TXSTA1                       00000004
SYNC_TXSTA2                       00000004
SYSCMD                            00000007
T016BIT                           00000004
T0ASYNC                           00000004
T0CKIPPS                          00000EA4
T0CKIPPS0                         00000000
T0CKIPPS1                         00000001
T0CKIPPS2                         00000002
T0CKIPPS3                         00000003
T0CKIPPS4                         00000004
T0CKPS0                           00000000
T0CKPS1                           00000001
T0CKPS2                           00000002
T0CKPS3                           00000003
T0CON0                            00000FD5
T0CON1                            00000FD6
T0CS0                             00000005
T0CS1                             00000006
T0CS2                             00000007
T0EN                              00000007
T0OUT                             00000005
T0OUTPS0                          00000000
T0OUTPS1                          00000001
T0OUTPS2                          00000002
T0OUTPS3                          00000003
T0PR0                             00000000
T0PR1                             00000001
T0PR2                             00000002
T0PR3                             00000003
T0PR4                             00000004
T0PR5                             00000005
T0PR6                             00000006
T0PR7                             00000007
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 66


SYMBOL TABLE
  LABEL                             VALUE 

T0PS0                             00000000
T0PS1                             00000001
T0PS2                             00000002
T0PS3                             00000003
T1CKIPPS                          00000EA5
T1CKIPPS0                         00000000
T1CKIPPS1                         00000001
T1CKIPPS2                         00000002
T1CKIPPS3                         00000003
T1CKIPPS4                         00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CLK                             00000FD2
T1CON                             00000FCF
T1CS0                             00000000
T1CS1                             00000001
T1CS2                             00000002
T1CS3                             00000003
T1GATE                            00000FD1
T1GCON                            00000FD0
T1GE                              00000007
T1GGO                             00000003
T1GGO_NOT_DONE                    00000003
T1GPOL                            00000006
T1GPPS                            00000EA6
T1GPPS0                           00000000
T1GPPS1                           00000001
T1GPPS2                           00000002
T1GPPS3                           00000003
T1GPPS4                           00000004
T1GSPM                            00000004
T1GSS0                            00000000
T1GSS1                            00000001
T1GSS2                            00000002
T1GSS3                            00000003
T1GTM                             00000005
T1GVAL                            00000002
T1RD16                            00000001
T2CKPOL                           00000006
T2CKPS0                           00000004
T2CKPS1                           00000005
T2CKPS2                           00000006
T2CKSYNC                          00000005
T2CLK                             00000FBF
T2CLKCON                          00000FBF
T2CON                             00000FBD
T2CS0                             00000000
T2CS1                             00000001
T2CS2                             00000002
T2CS3                             00000003
T2HLT                             00000FBE
T2INPPS                           00000EAB
T2INPPS0                          00000000
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 67


SYMBOL TABLE
  LABEL                             VALUE 

T2INPPS1                          00000001
T2INPPS2                          00000002
T2INPPS3                          00000003
T2INPPS4                          00000004
T2MODE0                           00000000
T2MODE1                           00000001
T2MODE2                           00000002
T2MODE3                           00000003
T2MODE4                           00000004
T2ON                              00000007
T2OUTPS0                          00000000
T2OUTPS1                          00000001
T2OUTPS2                          00000002
T2OUTPS3                          00000003
T2PR                              00000FBC
T2PSYNC                           00000007
T2RSEL0                           00000000
T2RSEL1                           00000001
T2RSEL2                           00000002
T2RSEL3                           00000003
T2RST                             00000FC0
T2TMR                             00000FBB
T3CKIPPS                          00000EA7
T3CKIPPS0                         00000000
T3CKIPPS1                         00000001
T3CKIPPS2                         00000002
T3CKIPPS3                         00000003
T3CKIPPS4                         00000004
T3CKPS0                           00000004
T3CKPS1                           00000005
T3CLK                             00000FCC
T3CON                             00000FC9
T3CS0                             00000000
T3CS1                             00000001
T3CS2                             00000002
T3CS3                             00000003
T3GATE                            00000FCB
T3GCON                            00000FCA
T3GE                              00000007
T3GGO                             00000003
T3GGO_NOT_DONE                    00000003
T3GPOL                            00000006
T3GPPS                            00000EA8
T3GPPS0                           00000000
T3GPPS1                           00000001
T3GPPS2                           00000002
T3GPPS3                           00000003
T3GPPS4                           00000004
T3GSPM                            00000004
T3GSS0                            00000000
T3GSS1                            00000001
T3GSS2                            00000002
T3GSS3                            00000003
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

T3GTM                             00000005
T3GVAL                            00000002
T3RD16                            00000001
T4CKPOL                           00000006
T4CKPS0                           00000004
T4CKPS1                           00000005
T4CKPS2                           00000006
T4CKSYNC                          00000005
T4CLK                             00000FB9
T4CLKCON                          00000FB9
T4CON                             00000FB7
T4CS0                             00000000
T4CS1                             00000001
T4CS2                             00000002
T4CS3                             00000003
T4HLT                             00000FB8
T4INPPS                           00000EAC
T4INPPS0                          00000000
T4INPPS1                          00000001
T4INPPS2                          00000002
T4INPPS3                          00000003
T4INPPS4                          00000004
T4MODE0                           00000000
T4MODE1                           00000001
T4MODE2                           00000002
T4MODE3                           00000003
T4MODE4                           00000004
T4ON                              00000007
T4OUTPS0                          00000000
T4OUTPS1                          00000001
T4OUTPS2                          00000002
T4OUTPS3                          00000003
T4PR                              00000FB6
T4PSYNC                           00000007
T4RSEL0                           00000000
T4RSEL1                           00000001
T4RSEL2                           00000002
T4RSEL3                           00000003
T4RST                             00000FBA
T4TMR                             00000FB5
T5CKIPPS                          00000EA9
T5CKIPPS0                         00000000
T5CKIPPS1                         00000001
T5CKIPPS2                         00000002
T5CKIPPS3                         00000003
T5CKIPPS4                         00000004
T5CKPS0                           00000004
T5CKPS1                           00000005
T5CLK                             00000FC6
T5CON                             00000FC3
T5CS0                             00000000
T5CS1                             00000001
T5CS2                             00000002
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

T5CS3                             00000003
T5GATE                            00000FC5
T5GCON                            00000FC4
T5GE                              00000007
T5GGO                             00000003
T5GGO_NOT_DONE                    00000003
T5GPOL                            00000006
T5GPPS                            00000EAA
T5GPPS0                           00000000
T5GPPS1                           00000001
T5GPPS2                           00000002
T5GPPS3                           00000003
T5GPPS4                           00000004
T5GSPM                            00000004
T5GSS0                            00000000
T5GSS1                            00000001
T5GSS2                            00000002
T5GSS3                            00000003
T5GTM                             00000005
T5GVAL                            00000002
T5RD16                            00000001
T6CKPOL                           00000006
T6CKPS0                           00000004
T6CKPS1                           00000005
T6CKPS2                           00000006
T6CKSYNC                          00000005
T6CLK                             00000FB3
T6CLKCON                          00000FB3
T6CON                             00000FB1
T6CS0                             00000000
T6CS1                             00000001
T6CS2                             00000002
T6CS3                             00000003
T6HLT                             00000FB2
T6INPPS                           00000EAD
T6INPPS0                          00000000
T6INPPS1                          00000001
T6INPPS2                          00000002
T6INPPS3                          00000003
T6INPPS4                          00000004
T6MODE0                           00000000
T6MODE1                           00000001
T6MODE2                           00000002
T6MODE3                           00000003
T6MODE4                           00000004
T6ON                              00000007
T6OUTPS0                          00000000
T6OUTPS1                          00000001
T6OUTPS2                          00000002
T6OUTPS3                          00000003
T6PR                              00000FB0
T6PSYNC                           00000007
T6RSEL0                           00000000
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

T6RSEL1                           00000001
T6RSEL2                           00000002
T6RSEL3                           00000003
T6RST                             00000FB4
T6TMR                             00000FAF
TABLAT                            00000FF5
TBLPTR                            00000FF6
TBLPTRH                           00000FF7
TBLPTRL                           00000FF6
TBLPTRU                           00000FF8
TIME_DOWN                         000001D2
TIME_UP                           0000024A
TMR0                              00000FD3
TMR0H                             00000FD4
TMR0H0                            00000000
TMR0H1                            00000001
TMR0H2                            00000002
TMR0H3                            00000003
TMR0H4                            00000004
TMR0H5                            00000005
TMR0H6                            00000006
TMR0H7                            00000007
TMR0IE                            00000005
TMR0IF                            00000005
TMR0IP                            00000005
TMR0L                             00000FD3
TMR0L0                            00000000
TMR0L1                            00000001
TMR0L2                            00000002
TMR0L3                            00000003
TMR0L4                            00000004
TMR0L5                            00000005
TMR0L6                            00000006
TMR0L7                            00000007
TMR0MD                            00000000
TMR1                              00000FCD
TMR10                             00000000
TMR11                             00000001
TMR110                            00000002
TMR111                            00000003
TMR112                            00000004
TMR113                            00000005
TMR114                            00000006
TMR115                            00000007
TMR12                             00000002
TMR13                             00000003
TMR14                             00000004
TMR15                             00000005
TMR16                             00000006
TMR17                             00000007
TMR18                             00000000
TMR19                             00000001
TMR1CLK                           00000FD2
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

TMR1GATE                          00000FD1
TMR1GIE                           00000000
TMR1GIF                           00000000
TMR1GIP                           00000000
TMR1H                             00000FCE
TMR1H0                            00000000
TMR1H1                            00000001
TMR1H2                            00000002
TMR1H3                            00000003
TMR1H4                            00000004
TMR1H5                            00000005
TMR1H6                            00000006
TMR1H7                            00000007
TMR1IE                            00000000
TMR1IF                            00000000
TMR1IP                            00000000
TMR1L                             00000FCD
TMR1L0                            00000000
TMR1L1                            00000001
TMR1L2                            00000002
TMR1L3                            00000003
TMR1L4                            00000004
TMR1L5                            00000005
TMR1L6                            00000006
TMR1L7                            00000007
TMR1MD                            00000001
TMR1ON                            00000000
TMR2                              00000FBB
TMR2IE                            00000001
TMR2IF                            00000001
TMR2IP                            00000001
TMR2MD                            00000002
TMR2ON                            00000007
TMR3                              00000FC7
TMR30                             00000000
TMR31                             00000001
TMR310                            00000002
TMR311                            00000003
TMR312                            00000004
TMR313                            00000005
TMR314                            00000006
TMR315                            00000007
TMR32                             00000002
TMR33                             00000003
TMR34                             00000004
TMR35                             00000005
TMR36                             00000006
TMR37                             00000007
TMR38                             00000000
TMR39                             00000001
TMR3CLK                           00000FCC
TMR3GATE                          00000FCB
TMR3GIE                           00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

TMR3GIF                           00000001
TMR3GIP                           00000001
TMR3H                             00000FC8
TMR3H0                            00000000
TMR3H1                            00000001
TMR3H2                            00000002
TMR3H3                            00000003
TMR3H4                            00000004
TMR3H5                            00000005
TMR3H6                            00000006
TMR3H7                            00000007
TMR3IE                            00000002
TMR3IF                            00000002
TMR3IP                            00000002
TMR3L                             00000FC7
TMR3L0                            00000000
TMR3L1                            00000001
TMR3L2                            00000002
TMR3L3                            00000003
TMR3L4                            00000004
TMR3L5                            00000005
TMR3L6                            00000006
TMR3L7                            00000007
TMR3MD                            00000003
TMR3ON                            00000000
TMR4                              00000FB5
TMR4IE                            00000003
TMR4IF                            00000003
TMR4IP                            00000003
TMR4MD                            00000004
TMR4ON                            00000007
TMR5                              00000FC1
TMR50                             00000000
TMR51                             00000001
TMR510                            00000002
TMR511                            00000003
TMR512                            00000004
TMR513                            00000005
TMR514                            00000006
TMR515                            00000007
TMR52                             00000002
TMR53                             00000003
TMR54                             00000004
TMR55                             00000005
TMR56                             00000006
TMR57                             00000007
TMR58                             00000000
TMR59                             00000001
TMR5CLK                           00000FC6
TMR5GATE                          00000FC5
TMR5GIE                           00000002
TMR5GIF                           00000002
TMR5GIP                           00000002
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

TMR5H                             00000FC2
TMR5H0                            00000000
TMR5H1                            00000001
TMR5H2                            00000002
TMR5H3                            00000003
TMR5H4                            00000004
TMR5H5                            00000005
TMR5H6                            00000006
TMR5H7                            00000007
TMR5IE                            00000004
TMR5IF                            00000004
TMR5IP                            00000004
TMR5L                             00000FC1
TMR5L0                            00000000
TMR5L1                            00000001
TMR5L2                            00000002
TMR5L3                            00000003
TMR5L4                            00000004
TMR5L5                            00000005
TMR5L6                            00000006
TMR5L7                            00000007
TMR5MD                            00000005
TMR5ON                            00000000
TMR6                              00000FAF
TMR6IE                            00000005
TMR6IF                            00000005
TMR6IP                            00000005
TMR6MD                            00000006
TMR6ON                            00000007
TO                                00000006
TOS                               00000FFD
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
TRISA                             00000F88
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000F89
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000F8A
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRMT                              00000001
TRUE                              1
TSEL0                             00000000
TSEL1                             00000001
TSEL2                             00000002
TSEL3                             00000003
TSEN                              00000005
TSRNG                             00000004
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TUN5                              00000005
TX1IE                             00000004
TX1IF                             00000004
TX1IP                             00000004
TX1PPS                            00000EB6
TX1REG                            00000F9A
TX1STA                            00000F9E
TX2IE                             00000006
TX2IF                             00000006
TX2IP                             00000006
TX2PPS                            00000E8E
TX2REG                            00000E9A
TX2STA                            00000E9E
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXREG1                            00000F9A
TXREG2                            00000E9A
TXSTA1                            00000F9E
TXSTA2                            00000E9E
UA                                00000001
UART1MD                           00000006
UART2MD                           00000007
VREGCON                           00000EDF
VREGPM0                           00000000
VREGPM1                           00000001
W                                 00000000
WCOL                              00000007
WDTCON0                           00000ED2
WDTCON1                           00000ED3
WDTCS0                            00000004
WDTCS1                            00000005
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

WDTCS2                            00000006
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WDTPS4                            00000005
WDTPSCNT0                         00000000
WDTPSCNT1                         00000001
WDTPSCNT10                        00000002
WDTPSCNT11                        00000003
WDTPSCNT12                        00000004
WDTPSCNT13                        00000005
WDTPSCNT14                        00000006
WDTPSCNT15                        00000007
WDTPSCNT16                        00000000
WDTPSCNT17                        00000001
WDTPSCNT2                         00000002
WDTPSCNT3                         00000003
WDTPSCNT4                         00000004
WDTPSCNT5                         00000005
WDTPSCNT6                         00000006
WDTPSCNT7                         00000007
WDTPSCNT8                         00000000
WDTPSCNT9                         00000001
WDTPSH                            00000ED5
WDTPSL                            00000ED4
WDTSEN                            00000000
WDTSTATE                          00000002
WDTTMR                            00000ED6
WDTTMR0                           00000003
WDTTMR1                           00000004
WDTTMR2                           00000005
WDTTMR3                           00000006
WDTTMR4                           00000007
WDTWINDOW0                        00000000
WDTWINDOW1                        00000001
WDTWINDOW2                        00000002
WDTWV                             00000005
WINDOW0                           00000000
WINDOW1                           00000001
WINDOW2                           00000002
WPUA                              00000F10
WPUA0                             00000000
WPUA1                             00000001
WPUA2                             00000002
WPUA3                             00000003
WPUA4                             00000004
WPUA5                             00000005
WPUA6                             00000006
WPUA7                             00000007
WPUB                              00000F18
WPUB0                             00000000
WPUB1                             00000001
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WPUC                              00000F20
WPUC0                             00000000
WPUC1                             00000001
WPUC2                             00000002
WPUC3                             00000003
WPUC4                             00000004
WPUC5                             00000005
WPUC6                             00000006
WPUC7                             00000007
WPUE                              00000F2D
WPUE3                             00000003
WR                                00000001
WREG                              00000FE8
WREN                              00000002
WRERR                             00000003
WRITE_BUFFER                      0000028C
WRITE_PWM_BUFFER                  000003A8
WRITE_RING_BUFFER                 0000038C
WUE                               00000001
W_TEMP                            00000000
X1                                00000001
X10                               00000002
X11                               00000003
X12                               00000004
X13                               00000005
X14                               00000006
X15                               00000007
X2                                00000002
X3                                00000003
X4                                00000004
X5                                00000005
X6                                00000006
X7                                00000007
X8                                00000000
X9                                00000001
YES                               1
Z                                 00000002
ZCDCON                            00000F32
ZCDIE                             00000006
ZCDIF                             00000006
ZCDINTN                           00000000
ZCDINTP                           00000001
ZCDIP                             00000006
ZCDMD                             00000000
ZCDOUT                            00000005
ZCDPOL                            00000004
ZCDSEN                            00000007
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

_.org_3_004E                      0000004E
_.org_3_0052                      00000052
_.org_3_0058                      00000058
_.org_3_02AA                      000002AA
_.org_3_02C4                      000002C4
_.org_3_02DE                      000002DE
_.org_3_02F8                      000002F8
_.org_3_0314                      00000314
_.org_3_0328                      00000328
_.org_3_033E                      0000033E
_.org_3_03C6                      000003C6
_.org_3_03EA                      000003EA
_.org_3_040E                      0000040E
_.org_3_0432                      00000432
_.org_3_046C                      0000046C
_.org_3_049C                      0000049C
_16X4_TABLE                       000004A8
_48BIT_LFSR                       0000048E
_8X4_16BIT_TABLE                  00000880
_8X4_8BIT_TABLE                   000008C0
_BOREN_NOSLP_2L                   000000BF
_BOREN_OFF_2L                     0000003F
_BOREN_ON_2L                      0000007F
_BOREN_SBORDIS_2L                 000000FF
_BORV_VBOR_245_2H                 000000FE
_BORV_VBOR_270_2H                 000000FD
_BORV_VBOR_285_2H                 000000FC
_BORV_VBOR_2P45_2H                000000FF
_CHAR                             0000003F
_CLKOUTEN_OFF_1H                  000000FF
_CLKOUTEN_ON_1H                   000000FE
_COEF_POINT                       00000040
_CONFIG1H                         00300001
_CONFIG1L                         00300000
_CONFIG2H                         00300003
_CONFIG2L                         00300002
_CONFIG3H                         00300005
_CONFIG3L                         00300004
_CONFIG4H                         00300007
_CONFIG4L                         00300006
_CONFIG5H                         00300009
_CONFIG5L                         00300008
_CONFIG6H                         0030000B
_CONFIG6L                         0030000A
_COUNT                            00000041
_CPD_OFF_5L                       000000FF
_CPD_ON_5L                        000000FD
_CP_OFF_5L                        000000FF
_CP_ON_5L                         000000FE
_CSWEN_OFF_1H                     000000F7
_CSWEN_ON_1H                      000000FF
_DEBUG_OFF_2H                     000000FF
_DEBUG_ON_2H                      000000DF
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

_DEVID1                           003FFFFE
_DEVID2                           003FFFFF
_EBTR0_OFF_6L                     000000FF
_EBTR0_ON_6L                      000000FE
_EBTR1_OFF_6L                     000000FF
_EBTR1_ON_6L                      000000FD
_EBTR2_OFF_6L                     000000FF
_EBTR2_ON_6L                      000000FB
_EBTR3_OFF_6L                     000000FF
_EBTR3_ON_6L                      000000F7
_EBTR4_OFF_6L                     000000FF
_EBTR4_ON_6L                      000000EF
_EBTR5_OFF_6L                     000000FF
_EBTR5_ON_6L                      000000DF
_EBTR6_OFF_6L                     000000FF
_EBTR6_ON_6L                      000000BF
_EBTR7_OFF_6L                     000000FF
_EBTR7_ON_6L                      0000007F
_EBTRB_OFF_6H                     000000FF
_EBTRB_ON_6H                      000000FD
_FCMEN_OFF_1H                     000000DF
_FCMEN_ON_1H                      000000FF
_FEXTOSC_ECH_1L                   000000FF
_FEXTOSC_ECL_1L                   000000FD
_FEXTOSC_ECM_1L                   000000FE
_FEXTOSC_HS_1L                    000000FA
_FEXTOSC_LP_1L                    000000F8
_FEXTOSC_OFF_1L                   000000FC
_FEXTOSC_RESERVED_1L              000000FB
_FEXTOSC_XT_1L                    000000F9
_FILL_B                           00000148
_FILL_G                           00000104
_FILL_PWM                         000001B0
_IDLOC0                           00200000
_IDLOC1                           00200001
_IDLOC10                          0020000A
_IDLOC11                          0020000B
_IDLOC12                          0020000C
_IDLOC13                          0020000D
_IDLOC14                          0020000E
_IDLOC15                          0020000F
_IDLOC2                           00200002
_IDLOC3                           00200003
_IDLOC4                           00200004
_IDLOC5                           00200005
_IDLOC6                           00200006
_IDLOC7                           00200007
_IDLOC8                           00200008
_IDLOC9                           00200009
_LOAD_TIMERS                      0000018C
_LPBOREN_OFF_2L                   000000FF
_LPBOREN_ON_2L                    000000DF
_LVP_OFF_4H                       000000DF
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

_LVP_ON_4H                        000000FF
_MCLRE_EXTMCLR_2L                 000000FF
_MCLRE_INTMCLR_2L                 000000FE
_OUT_POINT                        00000042
_PPS1WAY_OFF_2H                   000000F7
_PPS1WAY_ON_2H                    000000FF
_PWRTE_OFF_2L                     000000FF
_PWRTE_ON_2L                      000000FD
_RINGBUFF_P                       00000043
_RSTOSC_EXTOSC_1L                 000000FF
_RSTOSC_EXTOSC_4PLL_1L            000000AF
_RSTOSC_HFINTOSC_1MHZ_1L          000000EF
_RSTOSC_HFINTOSC_64MHZ_1L         0000008F
_RSTOSC_LFINTOSC_1L               000000DF
_RSTOSC_RESERVED_1_1L             0000009F
_RSTOSC_RESERVED_2_1L             000000BF
_RSTOSC_SOSC_1L                   000000CF
_SCANE_OFF_4H                     000000EF
_SCANE_ON_4H                      000000FF
_STVREN_OFF_2H                    000000EF
_STVREN_ON_2H                     000000FF
_TABLE_END                        000008E0
_WDTCCS_HFINTOSC_3H               000000CF
_WDTCCS_LFINTOSC_3H               000000C7
_WDTCCS_SC_3H                     000000FF
_WDTCPS_WDTCPS_0_3L               000000E0
_WDTCPS_WDTCPS_10_3L              000000EA
_WDTCPS_WDTCPS_11_3L              000000EB
_WDTCPS_WDTCPS_12_3L              000000EC
_WDTCPS_WDTCPS_13_3L              000000ED
_WDTCPS_WDTCPS_14_3L              000000EE
_WDTCPS_WDTCPS_15_3L              000000EF
_WDTCPS_WDTCPS_16_3L              000000F0
_WDTCPS_WDTCPS_17_3L              000000F1
_WDTCPS_WDTCPS_18_3L              000000F2
_WDTCPS_WDTCPS_19_3L              000000F3
_WDTCPS_WDTCPS_1_3L               000000E1
_WDTCPS_WDTCPS_20_3L              000000F4
_WDTCPS_WDTCPS_21_3L              000000F5
_WDTCPS_WDTCPS_22_3L              000000F6
_WDTCPS_WDTCPS_23_3L              000000F7
_WDTCPS_WDTCPS_24_3L              000000F8
_WDTCPS_WDTCPS_25_3L              000000F9
_WDTCPS_WDTCPS_26_3L              000000FA
_WDTCPS_WDTCPS_27_3L              000000FB
_WDTCPS_WDTCPS_28_3L              000000FC
_WDTCPS_WDTCPS_29_3L              000000FD
_WDTCPS_WDTCPS_2_3L               000000E2
_WDTCPS_WDTCPS_30_3L              000000FE
_WDTCPS_WDTCPS_31_3L              000000FF
_WDTCPS_WDTCPS_3_3L               000000E3
_WDTCPS_WDTCPS_4_3L               000000E4
_WDTCPS_WDTCPS_5_3L               000000E5
MPASM 5.71                  MOOD_LAMP_V2.ASM   2-21-2017  11:35:23         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

_WDTCPS_WDTCPS_6_3L               000000E6
_WDTCPS_WDTCPS_7_3L               000000E7
_WDTCPS_WDTCPS_8_3L               000000E8
_WDTCPS_WDTCPS_9_3L               000000E9
_WDTCWS_WDTCWS_0_3H               000000F8
_WDTCWS_WDTCWS_1_3H               000000F9
_WDTCWS_WDTCWS_2_3H               000000FA
_WDTCWS_WDTCWS_3_3H               000000FB
_WDTCWS_WDTCWS_4_3H               000000FC
_WDTCWS_WDTCWS_5_3H               000000FD
_WDTCWS_WDTCWS_6_3H               000000FE
_WDTCWS_WDTCWS_7_3H               000000FF
_WDTE_NSLEEP_3L                   000000DF
_WDTE_OFF_3L                      0000009F
_WDTE_ON_3L                       000000FF
_WDTE_SWDTEN_3L                   000000BF
_WRT0_OFF_4L                      000000FF
_WRT0_ON_4L                       000000FE
_WRT1_OFF_4L                      000000FF
_WRT1_ON_4L                       000000FD
_WRT2_OFF_4L                      000000FF
_WRT2_ON_4L                       000000FB
_WRT3_OFF_4L                      000000FF
_WRT3_ON_4L                       000000F7
_WRT4_OFF_4L                      000000FF
_WRT4_ON_4L                       000000EF
_WRT5_OFF_4L                      000000FF
_WRT5_ON_4L                       000000DF
_WRT6_OFF_4L                      000000FF
_WRT6_ON_4L                       000000BF
_WRT7_OFF_4L                      000000FF
_WRT7_ON_4L                       0000007F
_WRTB_OFF_4H                      000000FF
_WRTB_ON_4H                       000000FD
_WRTC_OFF_4H                      000000FF
_WRTC_ON_4H                       000000FE
_WRTD_OFF_4H                      000000FF
_WRTD_ON_4H                       000000FB
_XINST_OFF_2H                     000000FF
_XINST_ON_2H                      0000007F
_ZCD_OFF_2H                       000000FF
_ZCD_ON_2H                        000000FB
__18F27K40                        00000001
__DEBUG                           
__MPLAB_DEBUGGER_SIMULATOR        1

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

